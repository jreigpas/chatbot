{"version":3,"sources":["components/ChatContainer/ChatFooter/ChatFooter.module.css","assets/images/close-bubble-icon.svg","assets/images/widget-img.png","components/WidgetButton/WidgetButton.js","assets/images/widget-img-small.png","components/WidgetButtonSmall/Bubble/Bubble.js","components/WidgetButtonSmall/WidgetButtonSmall.js","components/chatElements/chatClasses.js","assets/images/rectangle-icon.svg","components/ChatContainer/ChatHeader/ChatHeader.js","components/ChatContainer/ChatBody/Spinner/Spinner.js","components/chatElements/TextMessage/TextMessage.js","components/chatElements/Button/Button.js","components/chatElements/QuickReply/QuickReply.js","components/chatElements/Carousel/Carousel.js","assets/images/download-icon.svg","components/chatElements/Download/Download.js","components/chatElements/Card/Card.js","components/chatElements/Form/Select/Select.js","components/chatElements/Form/Checkbox/Checkbox.js","components/chatElements/Form/TextInput/TextInput.js","components/chatElements/Form/Form.js","components/hoc/Backdrop/Backdrop.js","components/chatElements/Image/Image.js","components/ChatContainer/ChatBody/ChatBody.js","components/ChatContainer/ChatFooter/Textarea/Textarea.js","components/ChatContainer/ChatFooter/InputText/InputText.js","components/ChatContainer/ChatFooter/ChatFooter.js","store/MessagesReducer/actionContainer.js","helpers/functions.js","components/ChatContainer/ChatContainer.js","services/eva/IPDataConnection.js","services/eva/DirectSocketConnection.js","App.js","store/ChatReducer/actionChat.js","reportWebVitals.js","store/MessagesReducer/reducerContainer.js","store/ChatReducer/reducerChat.js","services/eva/processResponse.js","services/eva/EvaConectionV4.js","index.js","components/chatElements/Card/Card.module.css","components/ChatContainer/ChatHeader/ChatHeader.module.css","components/chatElements/Carousel/Carousel.module.css","components/ChatContainer/ChatBody/Spinner/Spinner.module.css","components/chatElements/TextMessage/TextMessage.module.css","components/chatElements/Form/Form.module.css","components/chatElements/Button/Button.module.css","components/chatElements/Form/Checkbox/Checkbox.module.css","components/chatElements/Form/TextInput/TextInput.module.css","components/ChatContainer/ChatFooter/Textarea/Textarea.module.css","components/WidgetButton/WidgetButton.module.css","components/WidgetButtonSmall/Bubble/Bubble.module.css","components/chatElements/QuickReply/QuickReply.module.css","components/WidgetButton/Bubble/Bubble.module.css","components/WidgetButtonSmall/WidgetButtonSmall.module.css","components/ChatContainer/ChatBody/ChatBody.module.css","components/chatElements/Download/Download.module.css","components/chatElements/Form/Select/Select.module.css","components/chatElements/Image/Image.module.css","components/ChatContainer/ChatFooter/InputText/InputText.module.css","components/ChatContainer/ChatContainer.module.css","components/hoc/Backdrop/Backdrop.module.css","config.js"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","SvgCloseBubbleIcon","_ref","svgRef","title","titleId","props","fill","height","id","viewBox","width","xmlSpace","xmlns","xmlnsXlink","ref","ForwardRef","WidgetButton","t","useTranslation","useState","showBubble","setShowBubble","buttonClicked","option","click","widget","show","className","classes","WidgetButtonContainer","role","aria-label","onClick","src","widgetImage","alt","tabIndex","CloseButton","Fragment","Bubble","BubbleContainer","dangerouslySetInnerHTML","__html","e","stopPropagation","close","bubble","WidgetSmall","WidgetButtonSmall","msg","Msg","type","fromUser","payload","TextMsg","text","agentChat","now","Button","value","action","QuickReply","buttons","downloads","position","Carousel","items","fillRule","clipRule","SvgRectangleIcon","focusable","ChatHeader","HeaderAndLogo","widgetIcon","Logo","Title","MoveAndCloseIcon","Spinner","DotContainer","Dot","TextMessage","messageClasses","origin","imageAvatar","WithAvatar","ImgAvatar","join","style","clickHandler","getClick","window","open","buttonClasses","Disabled","Secondary","onKeyPress","charCode","disabled","isDisabled","push","VerticalButtons","options","map","btn","index","selected","buttonStyle","children","currentIndex","setCurrentIndex","setLength","useEffect","carouselContainer","carouselWrapper","prevState","leftArrow","carouselContentWrapper","carouselContent","transform","rightArrow","stroke","strokeWidth","strokeLinecap","strokeLinejoin","SvgDownloadIcon","Download","setClicked","downloadClasses","axios","url","method","responseType","then","response","URL","createObjectURL","Blob","data","link","document","createElement","href","setAttribute","file","body","appendChild","parentNode","removeChild","downloadOk","catch","err","downloadKo","Card","altBtnText","buttonList","dl","dowloadStyle","image","Image","description","Description","buttonContainer","Buttons","downloadsContainer","Downloads","Info","Select","inputModified","setInputModified","targetOption","find","opt","setValue","Modified","placeholder","unshift","onChange","defaultValue","name","htmlFor","label","Checkbox","errMsg","showErrors","isValid","Invalid","Error","errorMessage","console","log","checked","TextInput","Form","setId","inputs","setInputs","setShowErrors","setDisabled","inputsArray","inpt","altText","required","input","sendHandler","errors","form","filter","n","skipHandler","setValues","validations","RegExp","regex","test","validate","inputElement","inputsContainer","Inputs","handler","preventDefault","Backdrop","clicked","fullSize","setFullSize","fullSizeImage","fullWindow","FullSizeImage","ChatBody","chatBodyDiv","useRef","current","scrollTop","scrollHeight","clientHeight","msgElements","processMsgs","messages","sendMsg","pushButton","constData","flow","setIsAgent","aria-live","MessagesContainer","showSpinner","Textarea","RecordButton","useSpeechToText","continuous","useLegacyResults","error","interimResult","stopSpeechToText","isRecording","results","startSpeechToText","rows","JSON","stringify","setInputValue","sendInputValue","setVal","ChatFooterKeyboardButton","setKeyBoardMode","KeyboardButton","InputText","showSuggestions","setShowSuggestions","inputRef","suggestions","trim","toLowerCase","includes","reset","getData","onKeyDown","suggestion","sendSuggestion","handleSuggestionClick","ChatFooter","recordButtonClasses","sendButtonClasses","SendButton","inputFile","ClassLabel","setIsDisabled","isModeKeyboard","setIsModeKeyboard","doReset","commentText","setCommentText","undefined","sendVoice","clickHandlerKeyboard","handleFileRead","event","a","files","convertBase64","base64","myArray","split","base64Data","dataSend","originalBase64","directSocketConnection","sendAttachment","Promise","resolve","reject","fileReader","FileReader","readAsDataURL","onload","result","onerror","ChatFooterModeKeyboard","send","data-recording","size","version","x","y","ChatFooterModeVoice","ChatFooterVisualizerWrapper","wave","ChatFooterRecognitionWrapper","setMessages","currentMsgs","getNow","Date","toLocaleString","hour","minute","hour12","withTranslation","dispacth","useDispatch","message","useSelector","state","messagesContainer","setShowSpinner","inputValue","isModeAgent","setIsModeAgent","isDisabledInput","setIsDisabledInput","showMessageError","newMsg","addMessages","sessionStorage","removeItem","connection","sendInitialMessage","addUserMessage","sendUserMessage","setItem","abrirConexionAgente","sendAgentMessage","sendMessage","msgs","newMsgsArray","nItems","forEach","item","element","button","cleanAllButtons","agentTasks","client","W3CWebSocket","urlSocket","onopen","getItem","contextData","parse","textContext","processContext","onclose","readyState","onmessage","messageDirect","dataFromServer","activities","allMensajes","attachments","from","contentUrl","connect","isUser","isFirst","locale","sendMessageAgent","newMessages","chatContainer","ChatContainer","closeChat","navigator","geolocation","getCurrentPosition","longitud","coords","longitude","latitud","latitude","getGeolocation","IPDataConnection","getIpdata","get","ipDataToken","threat","thread","isSecure","is_tor","is_anonymous","is_known_attacker","is_known_abuser","is_threat","is_bogon","scores","threat_score","trust_score","addInfoIPData","responseUpdate","headers","evaToken","userId","post","process","DirectSocketConnection","config","Authorization","token","streamUrl","conversationId","TagManager","initialize","gtmId","dataLayer","App","chatIsOpen","chatApp","IsBigButtonOpened","setIsBigButtonOpened","ipDAtaConnection","toggleChatHandler","chat","setChatIsOpens","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialMessage","reducerContainer","initialMessageChat","reducerChat","processResponse","rowData","context","sessionCode","dataAnswers","answers","answer","content","buttonsArray","newBtn","newButtonsReply","quickReply","newQuickReply","carrusel","EvaMsg","code","Eva4Connection","lang","session","getEvaToken","grant_type","eva4Config","client_id","client_secret","msgEnconded","URLSearchParams","toString","keycloak_ur","org_name","access_token","lng","conversation","userRef","bot","botUUID","instance","orgUUID","envUUID","status","Math","floor","random","rootReducer","combineReducers","store","createStore","getState","i18next","init","interpolation","escapeValue","resources","es","global","global_es","EvaConexion","ReactDOM","render","StrictMode","I18nextProvider","i18n","getElementById"],"mappings":"sFACAA,EAAOC,QAAU,CAAC,WAAa,+BAA+B,aAAe,iCAAiC,iBAAmB,qCAAqC,uBAAyB,2CAA2C,UAAY,8BAA8B,WAAa,+BAA+B,WAAa,+BAA+B,oBAAsB,wCAAwC,4BAA8B,gDAAgD,6BAA+B,iDAAiD,yBAA2B,6CAA6C,cAAgB,kCAAkC,MAAQ,0BAA0B,aAAe,iCAAiC,KAAO,yBAAyB,MAAQ,4B,2GCD5zB,SAASC,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDoB,EAAG,keAGL,SAASC,EAAmBC,EAAMC,GAChC,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQf,EAAyBW,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOzB,EAAS,CACtD8B,KAAM,UACNC,OAAQ,OACRC,GAAI,UACJC,QAAS,cACTC,MAAO,OACPC,SAAU,WACVC,MAAO,6BACPC,WAAY,+BACZC,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DK,GAAIJ,GACHD,GAAS,KAAM,GAGpB,IAAIY,EAA0B,aAAiBf,GCjChC,GDkCA,IClCA,IAA0B,wC,yBCkE1BgB,G,MA1DM,SAACX,GAAW,IACvBY,EAAMC,YAAe,UAArBD,EADsB,EAEME,oBAAS,GAFf,mBAEvBC,EAFuB,KAEXC,EAFW,KAQxBC,EAAgB,SAACC,GACrBF,GAAc,GACdhB,EAAMmB,MAAMD,IAUd,IAAIE,EAAS,GAmCb,OAjCIpB,EAAMqB,OACRD,EACE,sBACEE,UAAWC,IAAQC,sBACnBC,KAAK,SACLC,aAAYd,EAAE,gBAHhB,UAOE,wBACET,GAAG,iBACHmB,UAAWC,IAAQZ,aACnBgB,QAAS,kBAAMV,EAAc,SAC7BnB,MAAOc,EAAE,uBACTc,aAAYd,EAAE,uBALhB,SAOE,qBAAKgB,IAAKC,EAAaC,IAAI,mBAG7B,wBACE3B,GAAG,sBACH4B,SAAS,IACTT,UAAWC,IAAQS,YACnBL,QAAS,kBAAMV,EAAc,gBAC7BnB,MAAOc,EAAE,uBACTc,aAAYd,EAAE,uBANhB,SAQE,cAAC,EAAD,UAMD,cAAC,IAAMqB,SAAP,UAAiBb,MC/DX,MAA0B,6C,kCCwC1Bc,EAlCA,SAAClC,GAAW,IACjBY,EAAMC,YAAe,UAArBD,EAER,OACE,cAAC,IAAMqB,SAAP,UACE,sBACEX,UAAWC,IAAQY,gBACnBV,KAAK,SACLC,aAAYd,EAAE,uBAHhB,UAKE,yBAAQmB,SAAS,IAAIT,UAAWC,IAAQW,OAAQP,QAAS3B,EAAMmB,MAA/D,UACE,sBACEiB,wBAAyB,CAAEC,OAAQzB,EAAE,0BAEvC,sBACEwB,wBAAyB,CAAEC,OAAQzB,EAAE,6BAGzC,wBACEmB,SAAS,IACTT,UAAWC,IAAQS,YACnBL,QAAS,SAACW,GACRA,EAAEC,kBACFvC,EAAMwC,SAER1C,MAAOc,EAAE,uBACTc,aAAYd,EAAE,uBARhB,SAUE,cAAC,EAAD,YCkBKD,EA9CM,SAACX,GAAW,IACvBY,EAAMC,YAAe,UAArBD,EADsB,EAEME,oBAAS,GAFf,mBAEvBC,EAFuB,KAEXC,EAFW,KAa1ByB,EAAS,GAET1B,IACF0B,EAAS,cAAC,EAAD,CAAQD,MAZA,WACjBxB,GAAc,OAchB,IAAII,EAAS,GAwBb,OAtBIpB,EAAMqB,OACRD,EACE,sBACEE,UAAWC,IAAQmB,YACnBjB,KAAK,SACLC,aAAYd,EAAE,gBAHhB,UAKG6B,EAED,wBACEtC,GAAG,uBACHmB,UAAWC,IAAQoB,kBACnBhB,QAAS,kBAzBMiB,EAyBc,YAxBnC5B,GAAc,QACdhB,EAAMmB,MAAMyB,GAFQ,IAACA,GA0Bf9C,MAAOc,EAAE,uBACTc,aAAYd,EAAE,uBALhB,SAOE,qBAAKgB,IAAKC,EAAaC,IAAI,uBAM5B,cAAC,IAAMG,SAAP,UAAiBb,K,+CCjDpByB,EACJ,WAAYC,EAAMC,EAAUC,GAAU,oBACpChE,KAAK8D,KAAOA,EACZ9D,KAAK+D,SAAWA,IAAY,EAC5B/D,KAAKgE,QAAUA,GAINC,EAAb,kDACE,cAAgD,IAAD,EAAjCF,EAAiC,EAAjCA,SAAUG,EAAuB,EAAvBA,KAAMC,EAAiB,EAAjBA,UAAWC,EAAM,EAANA,IAAM,4BAC7C,gBACKN,KAAO,OACZ,EAAKC,SAAWA,EAChB,EAAKC,QAAU,CACbE,KAAMA,GAER,EAAKC,UAAYA,EACjB,EAAKC,IAAMA,EARkC,EADjD,UAA6BP,GAahBQ,EACX,cAA6C,IAA/BvD,EAA8B,EAA9BA,MAAOwD,EAAuB,EAAvBA,MAAOC,EAAgB,EAAhBA,OAAQT,EAAQ,EAARA,KAAQ,oBAC1C9D,KAAKc,MAAQA,EACbd,KAAKsE,MAAQA,EACbtE,KAAKuE,OAASA,EACdvE,KAAK8D,KAAOA,GAIHU,EAAb,kDACE,cAA+C,IAAD,EAAhCC,EAAgC,EAAhCA,QAASC,EAAuB,EAAvBA,UAAWC,EAAY,EAAZA,SAAY,4BAC5C,gBACKA,SAAWA,EAChB,EAAKb,KAAO,cACZ,EAAKE,QAAU,CACbS,QAASA,EACTC,UAAWA,GAN+B,EADhD,UAAgCb,GAYnBe,EAAb,kDACE,cAAwB,IAAD,EAATC,EAAS,EAATA,MAAS,4BACrB,gBACKf,KAAO,WACZ,EAAKE,QAAU,CACba,MAAOA,GAJY,EADzB,UAA8BhB,G,iBC1C9B,SAAS,IAA2Q,OAA9P,EAAWzE,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,EAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,EAAqB,gBAAoB,OAAQ,CACnDwF,SAAU,UACVC,SAAU,UACVrE,EAAG,qXACHO,KAAM,UAGR,SAAS+D,EAAiBpE,EAAMC,GAC9B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,EAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,EAAS,CACtDS,MAAO,GACPH,OAAQ,GACRE,QAAS,YACTH,KAAM,OACN,cAAe,OACfgE,UAAW,QACXxD,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DK,GAAIJ,GACHD,GAAS,KAAM,GAGpB,IAAI,EAA0B,aAAiBkE,GCIhCE,GDHA,IC3BI,SAAClE,GAAW,IACrBY,EAAMC,YAAe,UAArBD,EAMR,OACE,sBACEU,UAAWC,IAAQ2C,WACnBzC,KAAK,SACLC,aAAYd,EAAE,oBAHhB,UAKE,sBAAKU,UAAWC,IAAQ4C,cAAxB,UACE,qBAAKvC,IAAKwC,EAAYtC,IAAI,eAAeR,UAAWC,IAAQ8C,OAC5D,qBAAK/C,UAAWC,IAAQ+C,MAAxB,4BAEF,qBAAKhD,UAAWC,IAAQgD,iBAAxB,SACE,wBACEjD,UAAWC,IAAQS,YACnBL,QAAS,kBAjBMT,EAiBc,YAhBnClB,EAAMwC,MAAMtB,GADQ,IAACA,GAkBfpB,MAAOc,EAAE,oBACTc,aAAYd,EAAE,oBAJhB,SAME,cAAC,EAAD,a,kCCjBK4D,EAXC,SAACxE,GACf,OACE,qBAAKsB,UAAWC,IAAQiD,QAAxB,SACE,sBAAKlD,UAAWC,IAAQkD,aAAxB,UACE,qBAAKnD,UAAWC,IAAQmD,MACxB,qBAAKpD,UAAWC,IAAQmD,MACxB,qBAAKpD,UAAWC,IAAQmD,Y,iBC4BjBC,EAlCK,SAAC3E,GACnB,IAAM4E,EAAiB,CACrBrD,IAAQ,GAAD,OAAIvB,EAAM6E,OAAV,aACPtD,IAAQoD,YACRpD,IAAQuD,aAGV,OACE,oCACI9E,EAAM+C,UAAY/C,EAAMmD,UACxB,8BACE,sBAAK7B,UAAWC,IAAQwD,WAAxB,UACE,qBAAKzD,UAAWC,IAAQyD,UAAWpD,IAAI,mBAAmBE,IAAI,WAC9D,gCACE,qBAAKR,UAAWsD,EAAeK,KAAK,KAAMC,MAAOlF,EAAMkF,MAAvD,SACE,sBACE9C,wBAAyB,CAAEC,OAAQrC,EAAMgD,QAAQE,UAGrD,kCACGlD,EAAMoD,IACNpD,EAAM+C,oBAMf,qBAAKzB,UAAWsD,EAAeK,KAAK,KAAMC,MAAOlF,EAAMkF,MAAvD,SACE,sBAAM9C,wBAAyB,CAAEC,OAAQrC,EAAMgD,QAAQE,a,wCCoBlDG,GAjDA,SAACrD,GAAU,MAEMc,oBAAS,GAFf,mBAGlBqE,GAHkB,UAGH,WAIA,QAAfnF,EAAM8C,MAAmC,iBAAjB9C,EAAMuD,OAEhCvD,EAAMoF,SAASpF,EAAMuD,OAAQvD,EAAMF,OAEb,QAAfE,EAAM8C,KACbuC,OAAOC,KACLtF,EAAMsD,MACS,QAAftD,EAAM8C,KAAiB,SAAW,SAG7B9C,EAAMsD,OACbtD,EAAMoF,SAASpF,EAAMsD,MAAOtD,EAAMF,SAUlCyF,EAAgB,GAOpB,OALEA,EADiB,aAAfvF,EAAM8C,KACQ,CAACvB,KAAQ8B,OAAQ9B,KAAQiE,UAGzB,CAACjE,KAAQ8B,OAAyB,gBAAfrD,EAAM8C,KAAyBvB,KAAQkE,UAAY,IAGtF,wBACE3C,KAAK,SAELoC,MAAOlF,EAAMkF,MACbQ,WAnBmB,SAACpD,GAEH,KAAfA,EAAEqD,UACJR,KAiBA7D,UAAWiE,EAAcN,KAAK,KAC9BW,SAAU5F,EAAM6F,WAChBlE,QAASwD,EAPX,SASE,+BAAOnF,EAAMF,WCCJ0D,GA3CI,SAACxD,GAclB,IAAM4E,EAAiB,CACrBrD,KAAQ,GAAD,OAAIvB,EAAM6E,OAAV,aACPtD,KAAQiC,YAENxD,EAAMgD,QAAQS,QAAQhF,OAAS,GACjCmG,EAAekB,KAAKvE,KAAQwE,iBAG9B,IAAMC,EAAUhG,EAAMgD,QAAQS,QAAQwC,KAAI,SAACC,EAAKC,GAAN,OACxC,6BACE,cAAC,GAAD,CAGErG,MAAOoG,EAAIpG,MACXwD,MAAO4C,EAAI5C,MACXC,OAAQ2C,EAAI3C,OACZT,KAAMoD,EAAIpD,KACV3B,MAAOnB,EAAMoG,SACblB,MAAOlF,EAAMqG,YACbjB,SAAUpF,EAAMoF,UAPXe,IAHAA,MAcX,OACE,qBAAK7E,UAAWsD,EAAeK,KAAK,KAAMC,MAAOlF,EAAMkF,MAAvD,SACGc,K,oBC4BQpC,GAtEE,SAAC5D,GAAW,IAClBsG,EAAYtG,EAAZsG,SADiB,EAIgBxF,mBAAS,GAJzB,mBAIjByF,EAJiB,KAIHC,EAJG,OAKI1F,mBAASwF,EAAS7H,QALtB,mBAKjBA,EALiB,KAKTgI,EALS,KAQxBC,qBAAU,WACND,EAAUH,EAAS7H,UACpB,CAAC6H,IAcJ,OACE,qBAAKhF,UAAWC,KAAQoF,kBAAxB,SACE,sBAAKrF,UAAWC,KAAQqF,gBAAxB,UAEGL,EAAe,GACd,wBAAQ5E,QAXH,WACL4E,EAAe,GACfC,GAAgB,SAAAK,GAAS,OAAIA,EAAY,MASlBvF,UAAWC,KAAQuF,UAA1C,SACE,qBACEvG,MAAM,6BACNF,MAAM,KACNH,OAAO,KACPE,QAAQ,YACRqB,KAAK,MACLC,aAAW,gBANb,SAQE,sBAAMhC,EAAE,4DAId,qBAAK4B,UAAWC,KAAQwF,uBAAxB,SACE,qBACEzF,UAAWC,KAAQyF,gBACnB9B,MAAO,CAAE+B,UAAU,eAAD,OAAgC,IAAfV,EAAjB,OAFpB,SAIGD,MAIJC,EAAe9H,EAAS,GACvB,wBAAQkD,QAxCH,WACL4E,EAAgB9H,EAAS,GACzB+H,GAAgB,SAAAK,GAAS,OAAIA,EAAY,MAsClBvF,UAAWC,KAAQ2F,WAA1C,SACE,qBACE3G,MAAM,6BACNF,MAAM,KACNH,OAAO,KACPE,QAAQ,YACRqB,KAAK,MACLC,aAAW,YANb,SAQE,sBAAMhC,EAAE,gE,wCChExB,SAAS,KAA2Q,OAA9P,GAAWtB,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,gBAAoB,OAAQ,CACnDoB,EAAG,6CACHyH,OAAQ,UACRC,YAAa,EACbC,cAAe,QACfC,eAAgB,UAGd,GAAqB,gBAAoB,OAAQ,CACnD5H,EAAG,wNACHyH,OAAQ,UACRC,YAAa,EACbC,cAAe,QACfC,eAAgB,UAGlB,SAASC,GAAgB3H,EAAMC,GAC7B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDQ,QAAS,YACTH,KAAM,OACNM,MAAO,6BACP0D,UAAW,QACXxD,IAAKZ,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DK,GAAIJ,GACHD,GAAS,KAAM,GAAO,IAG3B,IAAI,GAA0B,aAAiByH,I,IAChC,I,kBCcAC,GAjDE,SAACxH,GAAU,MAEIc,oBAAS,GAFb,mBAEV2G,GAFU,WA4BpBC,EAAkB,CACtBnG,KAAQiG,SACRjG,KAAQ,aAAD,OAAcvB,EAAM8C,QAM7B,OACE,yBACEA,KAAK,SACLoC,MAAOlF,EAAMkF,MACb5D,UAAWoG,EAAgBzC,KAAK,KAChCW,SAAU5F,EAAM6F,WAChBlE,QAtCiB,WACnB8F,GAAW,GAEXE,KAAM,CACJC,IAAK5H,EAAM4H,IACXC,OAAQ,MACRC,aAAc,SAEbC,MAAK,SAACC,GACL,IAAMJ,EAAMvC,OAAO4C,IAAIC,gBAAgB,IAAIC,KAAK,CAACH,EAASI,QACpDC,EAAOC,SAASC,cAAc,KACpCF,EAAKG,KAAOZ,EACZS,EAAKI,aAAa,WAAYzI,EAAM0I,MACpCJ,SAASK,KAAKC,YAAYP,GAC1BA,EAAKlH,QAELkH,EAAKQ,WAAWC,YAAYT,GAC5BrI,EAAMmB,MAAMnB,EAAM+I,WAAY/I,EAAMF,UAErCkJ,OAAM,SAACC,GACNjJ,EAAMmB,MAAMnB,EAAMkJ,WAAYlJ,EAAMF,WAaxC,UAOE,cAAC,GAAD,IACA,+BAAOE,EAAMF,YCkEJqJ,GAhHF,SAACnJ,GAAW,IACfY,EAAMC,YAAe,UAArBD,EACFgE,EAAiB,CAACrD,KAAQ,GAAD,OAAIvB,EAAM6E,OAAV,aAA6BtD,KAAQ4H,MAE9DhE,EAAe,SAAC7B,EAAO8F,GACvB9F,GAAOtD,EAAMoG,SAAS9C,EAAO8F,IAG/B3F,EAAU,GAEZzD,EAAMgD,UACRS,EAAUzD,EAAMgD,QAAQqG,WACvBpD,KAAI,SAACC,EAAKC,GAAN,OACH,6BACE,cAAC,GAAD,CAEErG,MAAOoG,EAAIpG,MACXwD,MAAO4C,EAAI5C,MACXC,OAAQ2C,EAAI3C,OACZT,KAAMoD,EAAIpD,KACVoC,MAAOlF,EAAMqG,YACblF,MAAOgE,GANFgB,IAFAA,OAeX,IAAIzC,EAEJA,EAAY1D,EAAMgD,SAAWhD,EAAMgD,QAAQU,UACvC1D,EAAMgD,QAAQU,UAAUuC,KAAI,SAACqD,EAAInD,GAAL,OAC1B,6BACE,cAAC,GAAD,CACErG,MAAOwJ,EAAGxJ,MACV8H,IAAK0B,EAAG1B,IACR9E,KAAMwG,EAAGxG,KACT4F,KAAMY,EAAGZ,KACTQ,WAAYI,EAAGJ,WACfH,WAAYO,EAAGP,WACf7D,MAAOlF,EAAMuJ,aACbpI,MAAOgE,KATFgB,MAaX,GACJ,IAAMqD,EAAQxJ,EAAMgD,SAAWhD,EAAMgD,QAAQwG,MAC3C,qBAAKlI,UAAWC,KAAQkI,MAAxB,SACE,qBACE7H,IAAK5B,EAAMgD,QAAQwG,MACnB1H,IAAK9B,EAAMgD,QAAQlD,MACnB4B,aAAYd,EAAE,kBAIlB,GAGId,EAAQE,EAAMgD,SAAWhD,EAAMgD,QAAQlD,MAC3C,qBAAKwB,UAAWC,KAAQ+C,MAAO5C,aAAYd,EAAE,cAA7C,SACGZ,EAAMgD,QAAQlD,QAGjB,GAGI4J,EAAc1J,EAAMgD,SAAWhD,EAAMgD,QAAQE,KACjD,qBAAK5B,UAAWC,KAAQoI,YAAajI,aAAYd,EAAE,oBAAnD,SACE,qBAAKwB,wBAAyB,CAAEC,OAAQrC,EAAMgD,QAAQE,UAGxD,GAGI0G,EAAkB5J,GAASA,EAAMgD,QAAQqG,WAAW5K,OACxD,oBAAI6C,UAAWC,KAAQsI,QAASnI,aAAYd,EAAE,gBAA9C,SACG6C,IAGH,GAGIqG,EAAqB9J,EAAMgD,SAAWhD,EAAMgD,QAAQU,UACxD,oBACEpC,UAAW,CAACC,KAAQsI,QAAStI,KAAQwI,WAAW9E,KAAK,KACrDvD,aAAYd,EAAE,kBAFhB,SAIG8C,IAGH,GAGF,OACE,sBACEpC,UAAWsD,EAAeK,KAAK,KAC/BC,MAAOlF,EAAMkF,MACbzD,KAAK,SACLM,SAAS,IACTL,aAAYd,EAAE,eALhB,UAOG4I,EACD,sBAAKlI,UAAWC,KAAQyI,KAAxB,UACGlK,EACA4J,EACAE,EACAE,S,gDCrDMG,GAvDA,SAACjK,GAAW,IAAD,EACkBc,oBAAS,GAD3B,mBACjBoJ,EADiB,KACFC,EADE,KAGxBzD,qBAAU,WACR,IAAKwD,GAAiBlK,EAAMsD,MAAO,CACjC6G,GAAiB,GACjB,IAAMC,EAAepK,EAAMgG,QAAQqE,MAAK,SAACC,GAAD,OAAStK,EAAMsD,QAAUgH,EAAInK,MACrEH,EAAMuK,SAASvK,EAAMG,GAAIH,EAAMsD,MAAO8G,EAAa9G,UAEpD,CAAC4G,EAAelK,IAEnB,IAAM4E,EAAiB,CACrBrD,KAAQ0I,OACRC,EAAgB3I,KAAQiJ,SAAW,IAG/BC,EACJ,wBAA4B7E,UAAQ,EAACtC,MAAO,cAA5C,SACGtD,EAAMyK,aADI,eAKTzE,EAAUhG,EAAMgG,QAAQC,KAAI,SAACqE,GACjC,OACE,wBAAqBhH,MAAOgH,EAAInK,GAAhC,SACGmK,EAAIhH,OADMgH,EAAInK,OAMrB6F,EAAQ0E,QAAQD,GAQhB,OACE,sBAAKnJ,UAAWsD,EAAeK,KAAK,KAApC,UACE,wBACE9E,GAAIH,EAAMG,GACVwK,SAVgB,SAACrI,GAChB4H,GAAeC,GAAiB,GACrC,IAAMC,EAAepK,EAAMgG,QAAQqE,MAAK,SAACC,GAAD,OAAShI,EAAEhE,OAAOgF,QAAUgH,EAAInK,MACxEH,EAAMuK,SAASvK,EAAMG,GAAImC,EAAEhE,OAAOgF,MAAO8G,EAAa9G,QAQlDsC,SAAU5F,EAAM6F,WAChBX,MAAOlF,EAAMkF,MACb0F,aAAc5K,EAAMsD,OAAS,cAC7BuH,KAAM7K,EAAMG,GANd,SAQG6F,IAEH,wBAAO8E,QAAS9K,EAAMG,GAAtB,cAA4BH,EAAM+K,MAAlC,W,oBCESC,GApDE,SAAChL,GAAW,IAAD,EACgBc,oBAAS,GADzB,mBACnBoJ,EADmB,KACJC,EADI,KAGpBvF,EAAiB,CACrBrD,KAAQyJ,SACRd,EAAgB3I,KAAQiJ,SAAW,IAIrC9D,qBAAU,YAEHwD,GAAiBlK,EAAMsD,QAC1B6G,GAAiB,GACjBnK,EAAMuK,SAASvK,EAAMG,GAAIH,EAAMsD,MAAO,SAEvC,CAAC4G,EAAelK,IAEnB,IAMIiL,EAAS,GAYb,OAXIjL,EAAMkL,aAAelL,EAAMmL,UAC7BvG,EAAekB,KAAKvE,KAAQ6J,SAC5BH,EACE,qBAAK3J,UAAWC,KAAQ8J,MAAxB,SACE,iCACG,SADH,IACcrL,EAAMsL,mBAOxB,sBAAKhK,UAAWsD,EAAeK,KAAK,KAApC,UACE,uBACE9E,GAAIH,EAAMG,GACV2C,KAAK,WACL6H,SAvBgB,SAACrI,GAChB4H,GAAeC,GAAiB,GACrCoB,QAAQC,IAAIlJ,EAAEhE,OAAOmN,SACrBzL,EAAMuK,SAASvK,EAAMG,GAAImC,EAAEhE,OAAOmN,QAAS,OAqBvCvG,MAAOlF,EAAMkF,MACbU,SAAU5F,EAAM6F,WAChB4F,QAASzL,EAAMsD,MACfuH,KAAM7K,EAAMG,KAEd,wBAAO2K,QAAS9K,EAAMG,GAAtB,cAA4BH,EAAM+K,MAAlC,OACCE,M,oBCGQS,GAlDG,SAAC1L,GAAW,IAAD,EACec,oBAAS,GADxB,mBACpBoJ,EADoB,KACLC,EADK,KAGrBvF,EAAiB,CACrBrD,KAAQmK,UACRxB,EAAgB3I,KAAQiJ,SAAW,IAGrC9D,qBAAU,YAEHwD,GAAiBlK,EAAMsD,QAC1B6G,GAAiB,GACjBnK,EAAMuK,SAASvK,EAAMG,GAAIH,EAAMsD,MAAOtD,EAAMsD,UAE7C,CAAC4G,EAAelK,IAEnB,IAKIiL,EAAS,GAYb,OAXIjL,EAAMkL,aAAelL,EAAMmL,UAC7BvG,EAAekB,KAAKvE,KAAQ6J,SAC5BH,EACE,qBAAK3J,UAAWC,KAAQ8J,MAAxB,SACE,iCACG,SADH,IACcrL,EAAMsL,mBAOxB,sBAAKhK,UAAWsD,EAAeK,KAAK,KAApC,UACE,uBACE9E,GAAIH,EAAMG,GACVwK,SArBgB,SAACrI,GAChB4H,GAAeC,GAAiB,GACrCnK,EAAMuK,SAASvK,EAAMG,GAAImC,EAAEhE,OAAOgF,MAAOhB,EAAEhE,OAAOgF,QAoB9C4B,MAAOlF,EAAMkF,MACbuF,YAAazK,EAAMyK,YACnB7E,SAAU5F,EAAM6F,WAChBvC,MAAOtD,EAAMsD,MACbuH,KAAM7K,EAAMG,KAEd,wBAAO2K,QAAS9K,EAAMG,GAAtB,cAA4BH,EAAM+K,MAAlC,OACCE,MC4IQU,GArLF,SAAC3L,GAAW,IACfY,EAAMC,YAAe,UAArBD,EADc,EAEFE,mBAAS,IAFP,mBAEfX,EAFe,KAEXyL,EAFW,OAGM9K,mBAAS,IAHf,mBAGf+K,EAHe,KAGPC,EAHO,OAIchL,oBAAS,GAJvB,mBAIfoK,EAJe,KAIHa,EAJG,OAKUjL,mBAASd,EAAM6F,YALzB,mBAKfD,EALe,KAKLoG,EALK,KAOtBtF,qBAAU,WAER,IAAMuF,EAAcjM,EAAMgD,QAAQ6I,OAAO5F,KAAI,SAACiG,GAC5C,OAAO,6BACF,CACD5I,MAAO4I,EAAK5I,OAAS,GACrB6I,QAAS,GACThB,SAAUe,EAAKE,SACfd,aAAc1K,EAAE,uBAEfsL,MAIPN,EAAM5L,EAAMgD,QAAQ7C,IACpB2L,EAAUG,KAET,IAEH,IA6DII,EA7DEC,EAAc,SAAChJ,EAAO8F,GAC1B,IAAMmD,IAAWV,EAAOxB,MAAK,SAAC6B,GAAD,OAAWA,EAAKf,WAE7C,GAAIoB,EACFR,EAAcQ,OADhB,CAKA,IAAMvJ,EAAU,CACdwJ,KAAM,CACJrM,GAAIA,EACJ0L,OAAQA,EAAO5F,KAAI,SAACiG,GAAD,MAAW,CAAE/L,GAAI+L,EAAK/L,GAAImD,MAAO4I,EAAK5I,YAGzD6I,EAAUN,EAAO5F,KAAI,SAACiG,GAAD,OAAUA,EAAKC,WACxCA,EAAUA,EAAQM,QAAO,SAACC,GAAD,OAAOA,KAAGzH,KAAK,MACxCjF,EAAMoG,SAAS9C,EAAO6I,GAAW/C,EAAYpG,GAC7CgJ,GAAY,KAGRW,EAAc,SAACrJ,EAAO8F,GAC1BpJ,EAAMoG,SAAS9C,EAAO8F,GACtB4C,GAAY,IAwBRY,EAAY,SAACzM,EAAImD,EAAO6I,GAC5B,IAAMF,EAAW,YAAOJ,GAClBvN,EAAS2N,EAAY5B,MAAK,SAAC6B,GAAD,OAAUA,EAAK/L,KAAOA,KACtD7B,EAAOgF,MAAQA,EACfhF,EAAO6N,QAAUA,EAJuB,MArBzB,SAACE,GAChB,IAAIlB,GAAU,EACVG,EAAee,EAAMf,aAKzB,GAHIe,EAAMD,WAAaC,EAAM/I,QAC3B6H,GAAU,GAERkB,EAAMQ,YACR,IAAK,IAAItO,EAAI,EAAGA,EAAI8N,EAAMQ,YAAYpO,OAAQF,IAE5C,IADS,IAAIuO,OAAOT,EAAMQ,YAAYtO,GAAGwO,OACjCC,KAAKX,EAAM/I,OAAQ,CACzB6H,GAAU,EACVG,EAAee,EAAMQ,YAAYtO,GAAG+M,aACpC,MAKN,MAAO,CAACH,EAASG,GAQuB2B,CAAS3O,GALT,mBAKvCA,EAAO6M,QALgC,KAKvB7M,EAAOgN,aALgB,KAOxCQ,EAAUG,IAMNrH,EAAiB,CAACrD,KAAQ,GAAD,OAAIvB,EAAM6E,OAAV,aAA6BtD,KAAQoK,MAIpEU,EAAQR,EAAO5F,KAAI,SAACiG,EAAM/F,GACxB,IAAI+G,EAAe,GACnB,OAAQhB,EAAKpJ,MACX,IAAK,SACHoK,EACE,cAAC,GAAD,cAAQ3C,SAAUqC,EAAW/G,WAAYD,GAAcsG,IAEzD,MACF,IAAK,OACHgB,EACE,cAAC,GAAD,cACE3C,SAAUqC,EACV/G,WAAYD,EACZsF,WAAYA,GACRgB,IAGR,MACF,IAAK,WACHgB,EACE,cAAC,GAAD,cACE3C,SAAUqC,EACV/G,WAAYD,EACZsF,WAAYA,GACRgB,IAOZ,OAAO,6BAAiBgB,GAAR/G,MAGlB,IAMI1C,EANE0J,EACJ,oBAAI7L,UAAWC,KAAQ6L,OAAQ1L,aAAYd,EAAE,eAA7C,SACGyL,IAML5I,EAAUzD,EAAMgD,QAAQS,QAAQwC,KAAI,SAACC,EAAKC,GACxC,IAAMkH,EAAuB,WAAbnH,EAAIpD,KAAoB6J,EAAcL,EAChDzG,EAA0B,WAAbK,EAAIpD,OAlDtB+I,EAAOxB,MAAK,SAAC6B,GAAD,OAAUA,EAAKE,WAAaF,EAAK5I,SAoD9C,OACE,6BACE,cAAC,GAAD,CACExD,MAAOoG,EAAIpG,MACXwD,MAAO4C,EAAI5C,MACXC,OAAQ2C,EAAI3C,OACZT,KAAMoD,EAAIpD,KACVoC,MAAOlF,EAAMqG,YACbR,WAAYA,GAAcD,EAC1BzE,MAAOkM,KARFlH,MAcb,IAAMyD,EAAkB5J,EAAMgD,QAAQS,QAAQhF,OAC5C,oBAAI6C,UAAWC,KAAQsI,QAASnI,aAAYd,EAAE,gBAA9C,SACG6C,IAGH,GAUF,OACE,qBACEnC,UAAWsD,EAAeK,KAAK,KAC/BC,MAAOlF,EAAMkF,MACbzD,KAAK,SACLM,SAAS,IACTL,aAAYd,EAAE,eALhB,SAOE,uBAAMT,GAAIH,EAAMG,GAAImB,UAAWC,KAAQyI,KAAMtE,WAf1B,SAACpD,GAEH,KAAfA,EAAEqD,UACJrD,EAAEgL,kBAYF,UACGH,EACAvD,Q,wCC5KM2D,GAPE,SAACvN,GAChB,OACE,qBAAKsB,UAAWC,KAAQgM,SAAU5L,QAAS3B,EAAMwN,QAAjD,SACGxN,EAAMsG,YCuBEmD,GA1BD,SAACzJ,GAAW,IAAD,EACSc,oBAAS,GADlB,mBAChB2M,EADgB,KACNC,EADM,KAWvB,IAAMC,EAAgBF,EACpB,cAAC,GAAD,CAAUG,YAAY,EAAMvM,KAAMoM,EAAUD,QAT9C,WACEE,GAAY,IAQZ,SACE,qBAAKpM,UAAWC,KAAQsM,cAAejM,IAAK5B,EAAMgD,QAAQwG,MAAO1H,IAAI,OAErE,KAEJ,OACE,eAAC,IAAMG,SAAP,WACE,qBAAKX,UAAWC,KAAQkI,MAAOvE,MAAOlF,EAAMkF,MAA5C,SACE,qBAAKtD,IAAK5B,EAAMgD,QAAQwG,MAAO7H,QAbrC,WACE+L,GAAY,IAY8C5L,IAAI,OAE3D6L,MCsHQG,GAnIE,SAAC9N,GAAW,IACnBY,EAAMC,YAAe,UAArBD,EAEFmN,EAAcC,iBAAO,MAE3BtH,qBAAU,WACRqH,EAAYE,QAAQC,UAClBH,EAAYE,QAAQE,aAAeJ,EAAYE,QAAQG,gBAG3D,IAsGMC,EAtGc,SAAdC,EAAeC,GAAD,OAClBA,EAAStI,KAAI,SAACrD,EAAKuD,GACjB,IAAMtB,EAASjC,EAAIG,SAAW,OAAS,MAGvC,OAAQH,EAAIE,MACV,IAAK,OAGH,OACE,cAAC,EAAD,CAGEa,SAAUf,EAAIe,SACdkB,OAAQA,EACR9B,SAAUH,EAAIG,SACdC,QAASJ,EAAII,QACbG,UAAWP,EAAIO,UACfC,IAAKR,EAAIQ,KANJ+C,GASX,IAAK,cAEH,OACE,cAAC,GAAD,CAEExC,SAAUf,EAAIe,SACdkB,OAAQA,EACR7B,QAASJ,EAAII,QACboD,SAAUpG,EAAMwO,QAChBpJ,SAAWpF,EAAMyO,YALZtI,GAQX,IAAK,WAEH,OADAoF,QAAQC,IAAI,eAAe5I,EAAIE,MAE7B,cAAC,GAAD,CAAsB+B,OAAQA,EAAQ/B,KAAMF,EAAIE,KAAhD,SACIwL,EAAY1L,EAAII,QAAQa,QADbsC,GAInB,IAAK,OACHoF,QAAQC,IAAI,WAAW5I,EAAIE,MAC3B,IAAM+C,EAAaM,IAAUoI,EAAS9P,OAAS,EAC/C,OACE,cAAC,GAAD,CAEEkF,SAAUf,EAAIe,SACdkB,OAAQA,EACR7B,QAASJ,EAAII,QACboD,SAAUpG,EAAMwO,QAChB3I,WAAYA,GALPM,GAQX,IAAK,OACHoF,QAAQC,IAAI,WAAW5I,EAAIE,MAC3B,IAAI4L,EAAY,GAIhB,OAHI9L,EAAIyG,aACNqF,EAAY9L,GAGZ,cAAC,GAAD,CAEEe,SAAUf,EAAIe,SACdkB,OAAQA,EACR7B,QAAS0L,EACTtI,SAAUpG,EAAMwO,SAJXrI,GAOX,IAAK,QAEH,OADAoF,QAAQC,IAAI,YAAY5I,EAAIE,MACrB,cAAC,GAAD,CAAmB+B,OAAQA,EAAQ7B,QAASJ,EAAII,SAApCmD,GACrB,IAAK,UAEH,OADAoF,QAAQC,IAAI,cAAc5I,EAAIE,MAE5B,cAAC,GAAD,CAEEa,SAAUf,EAAIe,SACdkB,OAAQA,EACRgG,KAAMjI,EAAIiI,KACVvH,MAAOV,EAAIU,MACXR,KAAMF,EAAI+L,KACVpL,OAAQX,EAAIW,QANP4C,GASX,QAEE,OADAoF,QAAQC,IAAI,cAAc5I,EAAIE,MAE5B,cAAC,EAAD,CAGEa,SAAUf,EAAIe,SACdkB,OAAO,MACP9B,SAAUH,EAAIG,SACd6L,WAAY5O,EAAM4O,WAClBzL,UAAWP,EAAIO,UACfC,IAAKR,EAAIQ,IACTJ,QAAS,CAAEE,KAAMtC,EAAE,wBARduF,OAcGmI,CAAYtO,EAAMuO,UAEtC,OACE,qBACEjN,UAAWC,IAAQuM,SACnB/L,SAAS,IACT8M,YAAU,SACVpN,KAAK,SACLC,aAAYd,EAAE,kBACdH,IAAKsN,EANP,SAQE,sBAAKzM,UAAWC,IAAQuN,kBAAxB,UACGT,EACArO,EAAM+O,YAAc,cAAC,EAAD,IAAc,S,4ECzC5BC,GA1FE,SAAChP,GAEFa,YAAe,UAArBD,EAEqBW,KAAQ0N,aAJX,MAMAnO,mBAAS,IANT,mBAMZyJ,GANY,aAwCtB2E,aAAgB,CAClBC,YAAY,EACZC,kBAAkB,IAXlBC,EA/BwB,EA+BxBA,MACAC,EAhCwB,EAgCxBA,cAOAC,GAvCwB,EAkCxBC,YAlCwB,EAoCxBC,QApCwB,EAsCxBC,kBAtCwB,EAuCxBH,kBASF,OAFAhE,QAAQC,IAAI6D,GAGV,qCAQE,0BACE/N,UAAWC,KAAQyN,SACnBnE,KAAK,kBACL/H,KAAK,OACL6M,KAAK,IACLhF,SAlDe,SAACrI,GACpBiI,EAASqF,KAAKC,UAAUP,IACxBtP,EAAM8P,cAAcxN,EAAEhE,OAAOgF,OAC7BiI,QAAQC,IAAI,gCAAiCoE,KAAKC,UAAUP,KAgDxD5J,WA7CiB,SAACpD,GAEH,KAAfA,EAAEqD,UACJ3F,EAAM+P,eAAezN,EAAEhE,OAAOgF,QA2C5BA,MAAOtD,EAAMgQ,SAKf,wBACE1O,UAAWC,KAAQ0O,yBACnBtO,QA9CuB,WAC3B4N,IACAvP,EAAMkQ,iBAAgB,IA0CpB,SAIE,sBACE3P,MAAM,6BACNF,MAAM,KACNH,OAAO,KACPE,QAAQ,YACRqB,KAAK,MACLC,aAAW,kBACXJ,UAAWC,KAAQ4O,eAPrB,UASE,sBAAMlQ,KAAK,OAAOP,EAAE,mCACpB,sBAAMA,EAAE,gP,6BCGH0Q,GAvFG,SAACpQ,EAAD,GAA4B,IAAD,IAAlBgG,eAAkB,MAAR,GAAQ,EACnCpF,EAAMC,YAAe,UAArBD,EADmC,EAGPE,oBAAS,GAHF,gCAIjBA,mBAAS,KAJQ,mBAIpCwC,EAJoC,KAI7BiH,EAJ6B,OAKGzJ,oBAAS,GALZ,mBAKpCuP,EALoC,KAKnBC,EALmB,KAM3CtK,EAAUoC,GACV,IAAMmI,EAAWvC,iBAAO,MAClBwC,EAAcxK,EAAQyG,QAAO,SAACvL,GAAD,OAAaoC,EAAMmN,OAAOhS,OAAS,EAAKyC,EAAOwP,cAAcC,SAASrN,EAAMoN,eAAiB,MAQhIhK,qBAAU,WACR6D,EAAS,IACT+F,GAAmB,KAClB,CAACtQ,EAAM4Q,QAoCV,OACE,qCACA,0BACEtN,MAAOA,EACPhC,UAAWC,KAAQ6O,UACnBtN,KAAK,OACL2H,YAAa7J,EAAE,gCACfd,MAAOc,EAAE,0BACTc,aAAYd,EAAE,0BACd+J,SAtDkB,SAACrI,GACrBiI,EAASjI,EAAEhE,OAAOgF,OAClBtD,EAAM8P,cAAcxN,EAAEhE,OAAOgF,OAC7BtD,EAAM6Q,QAAQvO,EAAEhE,OAAOgF,QAoDrBoC,WArCmB,SAACpD,GAEH,KAAfA,EAAEqD,UACJrD,EAAEgL,iBAUFgD,GAAmB,GACnBtQ,EAAM+P,eAAezN,EAAEhE,OAAOgF,QAG9BgN,GAAmB,IAqBnBQ,UA7Cc,SAACxO,GACH,UAAVA,EAAE3D,MACJ2R,GAAmB,GACnB/F,EAAS,MA2CT3E,SAAU5F,EAAMgM,YAChBvL,IAAK8P,EACLZ,KAAOrM,EAAM7E,OAAS,GAAM,EAAE,IAE/B4R,GACC,oBAAI/O,UAAWC,KAAQiP,YAAvB,SACGA,EAAYvK,KAAI,SAAC8K,GAAD,OACf,oBACEpP,QAAS,kBA1BW,SAACoP,GAC7BxG,EAAS,IACTvK,EAAMgR,eAAeD,GACrBT,GAAmB,GAuBIW,CAAsBF,IADvC,SAIGA,GAFIA,YCgKFG,GAvOI,SAAClR,GAsClB,IAtC6B,IACrBY,EAAMC,YAAe,UAArBD,EAEFuQ,EAAsB,CAAC5P,KAAQ0N,cAC/BmC,EAAoB,CAAC7P,KAAQ8P,YAC7BC,EAAY,CAAC/P,KAAQ+P,WACrBC,EAAa,CAAChQ,KAAQgQ,YANA,EASQzQ,oBAAS,GATjB,mBAST0Q,GATS,aAWgB1Q,oBAAS,GAXzB,mBAWrB2Q,EAXqB,KAWLC,EAXK,OAYH5Q,oBAAS,GAZN,mBAYrB8P,EAZqB,KAYde,EAZc,OAgBU7Q,mBAAS,IAhBnB,mBAgBrB8Q,EAhBqB,KAgBRC,EAhBQ,OA+BxB3C,aAAgB,CAClBC,YAAY,EACZC,kBAAkB,IATlBC,EAxB0B,EAwB1BA,MACAC,EAzB0B,EAyB1BA,cACAE,EA1B0B,EA0B1BA,YAGAE,GA7B0B,EA4B1BD,QA5B0B,EA6B1BC,mBACAH,EA9B0B,EA8B1BA,iBAOEI,EAAO,GACFpR,EAAI,EAAGA,EAAI,GAAIA,IACtBoR,EAAK7J,KAAK,qBAAaxE,UAAWC,KAAQsC,OAAtBtF,IAGtBmI,qBAAU,WACH+K,SACmBK,IAAlBxC,EACEsC,EAAYnT,OAAS,IACvBuB,EAAM+R,UAAUH,GAChBI,KAGFH,EAAevC,MAKlB,CAACA,IAEJ,IAKM0C,EAAuB,WAC3BN,GAAkB,GAClBnC,KAaI0C,EAAc,yCAAG,WAAOC,GAAP,wBAAAC,EAAA,6DAEfzJ,EAAOwJ,EAAM5T,OAAO8T,MAAM,GAFX,SAGAC,EAAc3J,GAHd,OAGf4J,EAHe,OAIfC,EAAUD,EAAOE,MAAM,KACzBC,EAAaF,EAAQ,GAEnBG,EAAW,CACf7H,KAAM,aACN8H,eAAgBF,EAChB3P,KAAM,mBAER9C,EAAM4S,uBACHC,eAAeH,GACf3K,MAAK,SAACC,GACLuD,QAAQC,IAAI,qBAAsBxD,MAEnCgB,OAAM,SAACC,GAAD,OAASsC,QAAQC,IAAIvC,MAjBT,2CAAH,sDAqBdoJ,EAAgB,SAAC3J,GACrB,OAAO,IAAIoK,SAAQ,SAACC,EAASC,GAC3B,IAAMC,EAAa,IAAIC,WACvBD,EAAWE,cAAczK,GACzBuK,EAAWG,OAAS,WAClBL,EAAQE,EAAWI,SAErBJ,EAAWK,QAAU,SAACjE,GACpB2D,EAAO3D,QASb,OAFA9D,QAAQC,IAAI6D,GAGV,sBACE/N,UAAWC,KAAQ2P,WACnBzP,KAAK,SACLC,aAAYd,EAAE,oBAHhB,UAKG6Q,GACC,sBAAKnQ,UAAWC,KAAQgS,uBAAxB,UACE,cAAC,GAAD,CACEzD,cAAe9P,EAAM8P,cACrBC,eAAgB/P,EAAMwT,KACtB5C,MAAOA,EACPC,QAtDM,SAACzI,GACfoJ,EAAcpJ,EAAK3J,QAAU,IAsDrBuS,eAAgBhR,EAAMgR,eACtBhF,YAAahM,EAAMgM,cAKrB,wBACE1K,UAAW8P,EAAkBnM,KAAK,KAClCtD,QArEe,WACvB3B,EAAMwT,OACN7B,GAASf,GACTY,GAAc,IAmEN5L,SAAU5F,EAAMgM,YAChBlM,MAAM,SAJR,SAME,qBACES,MAAM,6BACNF,MAAM,KACNH,OAAO,KACPE,QAAQ,YACRqB,KAAK,MACLC,aAAW,iBACXJ,UAAW8P,EAPb,SASE,sBACE1R,EAAE,0tBACFS,GAAG,cAKT,wBACEwB,QApGgB,WACxB+P,GAAkB,GAClBlC,EAAcD,IAAqBG,KAmG3BpO,UAAW6P,EAAoBlM,KAAK,KACpCnF,MAAM,oBACN8F,SAAU5F,EAAMgM,YAJlB,SAME,qBACEyH,iBAAgBjE,EAChBjP,MAAM,6BACNF,MAAM,KACNH,OAAO,KACPE,QAAQ,YACRqB,KAAK,MACLC,aAAW,kBACXJ,UAAW6P,EARb,SAUE,sBAAMzR,EAAE,+RAGXM,EAAM4O,YAAc,wBAAOtN,UAAWiQ,EAAlB,UACnB,uBACEpR,GAAG,mBACH2C,KAAK,OACLsJ,UAAQ,EACRrB,MAAM,WACNF,KAAK,mBACLF,SAAU,SAACrI,GAAD,OAAO2P,EAAe3P,IAChCoR,KAAK,QACLpS,UAAWgQ,EACX1L,SAAU5F,EAAMgM,cAElB,qBACE2H,QAAQ,MACRxT,GAAG,UACHI,MAAM,6BACNqT,EAAE,KACFC,EAAE,KACFzT,QAAQ,cACRkB,UAAW6P,EAPb,SASE,sBACEzR,EAAE,qwBAaV+R,GACA,sBAAKnQ,UAAWC,KAAQuS,oBAAxB,UACE,qBAAKxS,UAAWC,KAAQwS,4BAAxB,SACE,qBAAKzS,UAAWC,KAAQyS,KAAxB,SAA+BrE,MAKjC,qBAAKrO,UAAWC,KAAQ0S,6BAAxB,SACE,cAAC,GAAD,CACEnE,cAAe9P,EAAM8P,cACrBC,eAAgB/P,EAAMwT,KACtBtD,gBAAiB8B,EACjBhC,OAAQV,aCxOT4E,GAAc,SAACC,GAAD,MAAkB,CAC3CrR,KAAM,mBACNmL,QAASkG,I,mBCJEC,GAAS,WAQpB,OANQ,IAAIC,MACAC,eAAe,QAAS,CAClCC,KAAM,UACNC,OAAQ,UACRC,QAAQ,KCyTGC,gBAAgB,SAAhBA,EAlTO,SAAC1U,GAAW,IACxBY,EAAMC,YAAe,UAArBD,EAEF+T,EAAWC,cAEXC,EAAUC,aAAY,SAACC,GAAD,OAAWA,EAAMC,kBAAkBzG,YALhC,EAMOzN,oBAAS,GANhB,mBAMxBiO,EANwB,KAMXkG,EANW,OAOKnU,mBAAS,IAPd,mBAOxBoU,EAPwB,KAOZpF,EAPY,OASYhP,mBAAS,IATrB,mBASNiP,GATM,aAUOjP,oBAAS,GAVhB,mBAUxBqU,EAVwB,KAUXC,EAVW,OAWetU,oBAAS,GAXxB,mBAWxBuU,EAXwB,KAWPC,EAXO,KAuCzBC,EAAmB,SAACtM,GACxBsC,QAAQC,IAAIvC,GACZ,IAAMuM,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAMtC,EAAE,wBACtD6U,EAAY,CAACD,KAGf9O,qBAAU,WAEHmO,EAAQpW,SACXiX,eAAeC,WAAW,WAC1BV,GAAe,GACfjV,EAAM4V,WACHC,qBACA9N,MAAK,SAACC,GAAD,OAAcyN,EAAYzN,MAC/BgB,OAAM,SAACC,GACNsM,UAKL,IAGH,IAAMO,EAAiB,WACrB,KAAIZ,EAAWzW,QAAU,GAAzB,CAGA8M,QAAQC,IAAI,cAAe2J,GAC3B,IAAM7R,EAAQ4R,EACRM,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAMG,KAAMI,EAAOH,UAAWgS,EAAa/R,IAAKgR,OACvFtE,EAAc,IACd2F,EAAY,CAACD,IACbO,EAAgBzS,EAAO,CAACkS,MAuBpBO,EAAkB,SAAC7S,EAAMN,GAI7B,OAFAqS,GAAe,GACf1J,QAAQC,IAAI,qBAAuBtI,GAC/BA,IAAUtC,EAAE,oBACd8U,eAAeM,QAAQ,QAAQ,QAC/BC,KAGgB,WAAT/S,GAAqBiS,GAC5BC,GAAe,QACfc,EAAiBhB,EAAY,qBAAqB,SAI/CC,GAaH5J,QAAQC,IAAI,yBACZsE,EAAc,IACdoG,EAAiBhT,EAAM,WAAU,IAdjClD,EAAM4V,WACHO,YAAYjT,GACZ6E,MAAK,SAACC,GACLuD,QAAQC,IAAI,wBAAwBxD,GACpC,IAAMoO,EAAI,sBAAOxT,GAAP,YAAeoF,IACzByN,EAAYW,MAEbpN,OAAM,SAACC,GACNsM,SAkCFE,EAAc,SAACY,GACnB9K,QAAQC,IAAI,aAAc6K,EAAa5X,QACvC,IAAM0V,EAAW,sBAAOU,GAAP,YAAmBwB,KA1Bd,SAACD,EAAM3X,GAC7B,IAAM6X,EAASF,EAAK3X,OACpB8M,QAAQC,IAAI,WAAY4K,GACxBV,eAAeM,QAAQ,UAAWpG,KAAKC,UAAUuG,IACjDA,EAAKG,SAAQ,SAACC,EAAMrQ,GACbA,EAAQmQ,EAAS7X,GAAyB,gBAAd+X,EAAK1T,MACnC0T,EAAKxT,QAAQS,QAAQ8S,SAAQ,SAACE,GAC3BA,EAAQnT,MAAQ,GAChBmT,EAAQ3T,KAAK,cAGdqD,EAAQmQ,EAAS7X,GAAyB,aAAd+X,EAAK1T,MACpC0T,EAAKxT,QAAQa,MAAM0S,SAAQ,SAACE,GACzBA,EAAQpN,WAAWkN,SAAQ,SAACG,GAC3BA,EAAOpT,MAAM,GACboT,EAAO5T,KAAK,oBAYpB6T,CAAgBxC,EAAckC,EAAa5X,OAAS,GACpDkW,EAAST,GAAYC,IACrBc,GAAe,IAUX2B,EAAa,SAAC5O,GAElBuD,QAAQC,IAAI,mBAAoBxD,GAChC,IAAI6O,EAAS,IAAIC,gBACf9W,EAAM4S,uBAAuBmE,WAE/BF,EAAOG,OAAS,WACdzL,QAAQC,IAAI,8BACZ4J,GAAe,GACfM,eAAeuB,QAAQ,WACvB,IAAMC,EDnLkB,SAACtU,GAC7B,IAAMwF,EAAOwH,KAAKuH,MAAMvU,GACpBwU,EAAY,GAMhB,OALAhP,EAAKmO,SAAQ,SAACC,GACI,SAAZA,EAAK1T,OACPsU,EAAcA,EAAc,QAAUZ,EAAKzT,SAAW,aAAa,uBAAyByT,EAAKxT,QAAQE,SAGtGkU,EC2KiBC,CAAe3B,eAAeuB,QAAQ,YAC1Df,EAAiBgB,EAAY,WAAW,GAAO,IAEjDL,EAAOS,QAAU,WACf/L,QAAQC,IAAI,sBACZD,QAAQC,IAAI,qBAAsBqL,EAAOU,aAE3CV,EAAOW,UAAY,SAACC,GAClBlM,QAAQC,IAAI,uBAAwBiM,GACpC,IAAMlJ,EAAWqB,KAAKuH,MAAMzB,eAAeuB,QAAQ,YACnD,GAAIQ,EAAcrP,KAAM,CACtB,IAAMsP,EAAiB9H,KAAKuH,MAAMM,EAAcrP,MAGhD,GAFAmD,QAAQC,IAAI,4BAA6BkM,GAEC,2BAAtCA,EAAeC,WAAW,GAAGzU,KAAmC,CAClEqI,QAAQC,IAAI,uCACZ4J,GAAe,GACf,IAAMI,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAM,kEAAgEC,WAAW,EAAMC,IAAKgR,OACpIwD,EAAW,sBAAOrJ,GAAY,CAACiH,IACrCE,eAAeM,QAAQ,UAAWpG,KAAKC,UAAU+H,IACjDjD,EAAST,GAAY0D,IACrBf,EAAOrU,QACP8S,GAAmB,QACd,GAAIoC,EAAeC,WAAW,GAAGE,aAAwD,SAAzCH,EAAeC,WAAW,GAAGG,KAAK3X,GAAe,CACtGuV,eAAeM,QAAQ,QAAS,GAChC,IAAMR,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAM,+BAAiCwU,EAAeC,WAAW,GAAGE,YAAY,GAAGE,WAAY,oBAAsBL,EAAeC,WAAW,GAAGE,YAAY,GAAGhN,KAAO,QAAS1H,WAAW,EAAMC,IAAKgR,OAC/OwD,EAAW,sBAAOrJ,GAAY,CAACiH,IACrCE,eAAeM,QAAQ,UAAWpG,KAAKC,UAAU+H,IACjDjD,EAAST,GAAY0D,SAEhB,GAA6C,SAAzCF,EAAeC,WAAW,GAAGG,KAAK3X,IAE3C,GADAoL,QAAQC,IAAI,gBAAiBkM,EAAeC,WAAW,IACf,MAApCjC,eAAeuB,QAAQ,UAAqBS,EAAeC,WAAW,GAAGzU,MAAQwU,EAAeC,WAAW,GAAGzU,KAAKzE,OAAS,GAAI,CAClI,IAAM+W,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAM,wFAAsFC,WAAW,EAAMC,IAAKgR,OAC1JwD,EAAW,sBAAOrJ,GAAY,CAACiH,IACrCE,eAAeM,QAAQ,UAAWpG,KAAKC,UAAU+H,IACjDjD,EAAST,GAAY0D,SAGnB,CAEJlC,eAAeM,QAAQ,QAAS,GAChC,IAAMR,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAMwU,EAAeC,WAAW,GAAGzU,KAAMC,WAAW,EAAMC,IAAKgR,OACvGwD,EAAW,sBAAOrJ,GAAY,CAACiH,IACrCE,eAAeM,QAAQ,UAAWpG,KAAKC,UAAU+H,IACjDjD,EAAST,GAAY0D,IAEvB3C,GAAe,MAMfgB,EAAsB,WAC1BjW,EAAM4S,uBACLoF,UACAjQ,MAAK,SAACC,GACL4O,EAAW5O,MAEZgB,OAAM,SAACC,GAAD,OAASsC,QAAQC,IAAIvC,OAGxBiN,EAAmB,SAACtT,EAAKE,EAAMmV,GAA8B,IAAtBC,EAAqB,wDAC1DxF,EAAW,CACfyF,OAAQ,QACRrV,KAAMA,EACNgV,KAAM,CACJ3X,GAAI,QAEN+C,KAAMN,GAER5C,EAAM4S,uBACHwF,iBAAiB1F,GACjB3K,MAAK,SAACC,GAEL,GADAuD,QAAQC,IAAI,sBAAuBxD,IAC9BiQ,EAAQ,CACX,IAAM1J,EAAWqB,KAAKuH,MAAMzB,eAAeuB,QAAQ,YAE7CzB,EAAS,IAAIvS,EAAQ,CAAEF,SAAUkV,EAAQ/U,KAD9BgV,EAAU,2OAAsNtV,EAClLO,WAAW,EAAMC,IAAKgR,OAC/EiE,EAAW,sBAAO9J,GAAY,CAACiH,IACrCE,eAAeM,QAAQ,UAAWpG,KAAKC,UAAUwI,IACjD1D,EAAST,GAAYmE,IACrBpD,GAAe,OAGlBjM,OAAM,SAACC,GAAD,OAASsC,QAAQC,IAAIvC,OAI1BqP,EACJ,sBACEhX,UAAWC,IAAQgX,cACnB9W,KAAK,SACLC,aAAYd,EAAE,uBAHhB,UAQE,cAAC,EAAD,CAAY4B,MAAOxC,EAAMwY,YACzB,cAAC,GAAD,CACEjK,SAAUsG,EACV9F,YAAaA,EACbH,WAAYuG,EACZ3G,QAASsH,EACTrH,WA/Ma,SAACnM,GAClB,GAAU,iBAANA,EAAJ,CAIA,IAAMkT,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAMG,KAAMZ,IACnDmT,EAAY,CAACD,IACbO,EAAgBzT,EAAG,CAACkT,SApEC,WACrB,GAAGiD,UAAUC,YACXD,UAAUC,YAAYC,oBAAmB,SAAChV,GACxC3D,EAAM4V,WAAWgD,SAASjV,EAASkV,OAAOC,UAC1C9Y,EAAM4V,WAAWmD,QAAQpV,EAASkV,OAAOG,SACzChZ,EAAM4V,WACLO,YAAY,gBACZpO,MAAK,SAACC,GACL,IACMoO,EAAW,CADF,IAAInT,EAAQ,CAAEF,UAAU,EAAMG,KAAM,4BACzC,mBAAoB8E,IAC9ByN,EAAYW,MAEbpN,OAAM,SAACC,GAAD,OAASsC,QAAQC,IAAIvC,SAE9B,WACEsC,QAAQC,IAAI,oCACZ,IAAMgK,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAM,oIACpDuS,EAAY,CAACD,WAEV,CACHjK,QAAQC,IAAI,gDACZ,IAAMgK,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAM,4DACpDuS,EAAY,CAACD,KAyCfyD,MA+MA,cAAC,GAAD,CACEzF,KAAMsC,EACN/D,UAzMsB,SAACnP,GAC3B,KAAIA,EAAInE,QAAU,GAAlB,CAGA,IAAM6E,EAAQV,EACR4S,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAMG,KAAMI,IACnDmS,EAAY,CAACD,IACbO,EAAgBzS,EAAO,CAACkS,MAmMpB1F,cAAeA,EACfC,eAAgBA,EAChBiB,eAhIgB,SAACpO,GACrB,IAAM4S,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAMG,KAAMN,IACnDkN,EAAc,IACd2F,EAAY,CAACD,IACbO,EAAgBnT,EAAK,CAAC4S,KA6HlB5G,WAAYuG,EACZnJ,YAAaqJ,EACbzC,uBAAwB5S,EAAM4S,4BAKpC,OAEE,aADA,CACC,IAAM3Q,SAAP,UAGGjC,EAAMqB,KAAOiX,EAAgB,QChPrBY,GAtEb,aAAe,IAAD,gCAIdC,UAJc,wBAIF,uBAAAhH,EAAA,+EAEH,IAAIW,SAAQ,SAACC,EAASC,GAC3BrL,KACGyR,IADH,wCAEqC,EAAKC,cAEvCtR,KAJH,iCAAAoK,EAAA,MAIQ,WAAOnK,GAAP,oBAAAmK,EAAA,6DACJ5G,QAAQC,IAAI,oBAAoBxD,EAASI,KAAKkR,QACxCC,EAASvR,EAASI,KAAKkR,OACzBE,GAAW,GACVD,EAAOE,QACVF,EAAOG,cACPH,EAAOI,mBACPJ,EAAOK,iBACPL,EAAOM,WACPN,EAAOO,UAGEP,EAAOQ,SAAWR,EAAOQ,OAAOC,aAAa,IAChCT,EAAOQ,OAAOE,YAAY,OAH5CT,GAAW,GAVb,SAgB2B,EAAKU,cAAclS,EAASI,MAhBvD,OAgBI+R,EAhBJ,OAiBF5O,QAAQC,IAAI2O,GACdpH,EAAQyG,GAlBJ,2CAJR,uDAwBGxQ,OAAM,SAACC,GACNsC,QAAQC,IAAI,MAAMvC,GAClB+J,WA7BI,2CAJE,KAsCdkH,cAtCc,yCAsCE,WAAO9R,GAAP,UAAA+J,EAAA,+EACP,IAAIW,SAAQ,SAACC,EAASC,GAC3B,IAAIoH,EAAU,GACdA,EAAO,cAAoB,UAAY,EAAKC,SAE5CjS,EAAOwH,KAAKC,UAAU,CACpB/P,MAAO,MACP6I,KAAM,MACN2R,OAAQ,IAGV3S,KACG4S,KADH,6CAGInS,EACA,CAAEgS,QAASA,IAEZrS,MAAK,SAACC,GACLuD,QAAQC,IAAI,kBAAmBxD,GAC/B+K,EAAQ/K,MAETgB,OAAM,SAACC,GAEJ,OADAsC,QAAQC,IAAI,MAAMvC,GACX8J,GAAQ,UAvBT,2CAtCF,sDACZ/T,KAAKqa,YAAcmB,4DC2FRC,GA7Fb,aAAe,IAAD,gCAMd5E,mBAAqB,WACnB,OAAO,IAAI/C,SAAQ,SAACC,EAASC,GAC3B,EAAKgF,UACFjQ,MAAK,kBAAMgL,OACX/J,OAAM,SAACC,GAAD,OAAS+J,EAAO/J,UAVf,KAcd+O,QAdc,wBAcJ,uBAAA7F,EAAA,+EACD,IAAIW,SAAQ,SAACC,EAASC,GAC3B,IAAM0H,EAAS,CACbN,QAAS,CAAEO,cAAc,UAAD,OAAY,EAAKC,SAO3CjT,KACG4S,KADH,kEAJuB,CACrB5b,IAAK,SAOH+b,GAED3S,MAAK,SAACC,GAIL,OAHAuD,QAAQC,IAAI,wCAAsCxD,GAClD,EAAK+O,UAAY/O,EAASI,KAAKyS,UAC/B,EAAKC,eAAiB9S,EAASI,KAAK0S,eAC7B/H,OAER/J,OAAM,SAACC,GAEN,OADAsC,QAAQC,IAAI,SAAUvC,GACf8J,WAxBL,2CAdI,KA2CdqF,iBA3Cc,yCA2CK,WAAOxV,GAAP,UAAAuP,EAAA,+EACV,IAAIW,SAAQ,SAACC,EAASC,GAC3B,IAAM0H,EAAS,CACbN,QAAS,CAAEO,cAAc,UAAD,OAAY,EAAKC,SAG3CjT,KACG4S,KADH,0EAEuE,EAAKO,eAF5E,eAGIlY,EACA8X,GAED3S,MAAK,SAACC,GAEL,OADAuD,QAAQC,IAAI,0BAA2BxD,GAChC+K,EAAQ,EAAK/K,aAErBgB,OAAM,SAACC,GAEN,OADAsC,QAAQC,IAAI,SAAUvC,GACf8J,WAlBI,2CA3CL,2DAkEdF,eAlEc,yCAkEG,WAAOjQ,GAAP,UAAAuP,EAAA,+EACR,IAAIW,SAAQ,SAACC,EAASC,GAC3B,IAAM0H,EAAS,CACbN,QAAS,CAAEO,cAAc,UAAD,OAAY,EAAKC,OAC9B,eAAgB,kBAChB,sBAAsB,yCAGnCjT,KACG4S,KADH,0EAEuE,EAAKO,eAF5E,uBAGIlY,EACA8X,GAED3S,MAAK,SAACC,GAEL,OADAuD,QAAQC,IAAI,0BAA2BxD,GAChC+K,EAAQ,EAAK/K,aAErBgB,OAAM,SAACC,GAEN,OADAsC,QAAQC,IAAI,SAAUvC,GACf8J,WApBE,2CAlEH,sDACZ/T,KAAK8b,eAAiB,GACtB9b,KAAK+X,UAAY,GACjB/X,KAAK4b,MAAQJ,2D,oBCYjBjP,QAAQC,IAAI,QAASgP,eAErBO,KAAWC,WATY,CACrBC,MAAOT,cACPU,UAAW,CAAC,CACV,OAAU,6BAQd,IAmDeC,GAnDH,SAACnb,GAEX,IAAM2U,EAAWC,cAEXwG,EAAatG,aAAY,SAACC,GAAD,OAAWA,EAAMsG,QAAQD,cAJnC,EAK6Bta,oBAAS,GALtC,mBAKdwa,EALc,KAKKC,EALL,KAMfC,EAAmB,IAAItC,GACvBtG,EAAyB,IAAI6H,GAE7BgB,EAAoB,SAACva,GACV,SAAXA,EAEFsa,EACCrC,YACApR,MAAK,SAACC,GACLuD,QAAQC,IAAI,wBAAyBxD,GACjCA,GACF2M,ECrCoB,SAACyG,GAAD,MAAiB,CAC7CtY,KAAM,cACN4Y,KAAMN,GDmCWO,EAAgBP,OAG5BpS,OAAM,SAACC,GAAD,OAASsC,QAAQC,IAAIvC,MAG5BsS,EADoB,cAAXra,IAOb,OACE,sBAAKI,UAAU,MAAf,UACE,cAACqB,EAAD,CACEtB,MAAO+Z,IAAeE,EACtBna,MAAOsa,IAET,cAAC,EAAD,CACEpa,MAAO+Z,GAAcE,EACrBna,MAAOsa,IAERL,GACC,cAAC,GAAD,CACE/Z,KAAM+Z,EACN5C,UAAWiD,EACX7F,WAAY5V,EAAM4V,WAClBhD,uBAAwBA,QEtDnBgJ,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqB/T,MAAK,YAAkD,IAA/CgU,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,4BCHRO,GAAiB,CACrB7N,SAAS,IAYI8N,GARU,WAAqC,IAApCtH,EAAmC,uDAA3BqH,GAAgB7Y,EAAW,uCAC3D,OAAQA,EAAOT,MACb,IAAK,mBACH,OAAO,6BAAKiS,GAAZ,IAAmBxG,SAAUhL,EAAO0K,UACtC,QACE,OAAO8G,I,SCXPuH,GAAqB,CACzBlB,YAAY,GAWCmB,GARK,WAAyC,IAAxCxH,EAAuC,uDAA/BuH,GAAoB/Y,EAAW,uCAC1D,OAAQA,EAAOT,MACb,IAAK,cACH,OAAO,6BAAKiS,GAAZ,IAAmBqG,WAAY7X,EAAOmY,OACxC,QACE,OAAO3G,ICgEEyH,GAnES,SAACC,GACvBlR,QAAQC,IAAI,OAAQiR,GACpB,IAAMC,EAAUD,EAAQrU,KAAKsU,QACvBC,EAAcF,EAAQrU,KAAKuU,YAC7BC,EAAcH,EAAQrU,KAAKyU,QAEzBtO,EAAW,GA0DjB,OArDAqO,EAAYrG,SAAQ,SAACuG,GAEnB,GAA4B,aAAxBA,EAAOC,QAAQja,MAAgD,kBAAxBga,EAAOC,QAAQja,KAA0B,CAClF,IAAMI,EAAO4Z,EAAOC,QACdvH,EAAS,IAAIvS,EAAQ,CAAEF,UAAU,EAAOG,KAAMA,EAAMC,WAAW,EAAOC,IAAK,KACjFmL,EAASzI,KAAK0P,GAKhB,GAFAjK,QAAQC,IAAI,UAAWsR,GAEnBA,EAAOrZ,SAAWqZ,EAAOrZ,QAAQhF,OAAQ,CAC3C8M,QAAQC,IAAI,gBACZ,IAAMwR,EAAe,GACrBF,EAAOrZ,QAAQ8S,SAAQ,SAACrV,GACtB,IAAM+b,EAAS,IAAI5Z,EAAO,CACxBvD,MAAOoB,EAAO2J,KACdvH,MAAOpC,EAAOoC,MACdC,OAAQrC,EAAOqC,OACfT,KAAM5B,EAAO4B,OAEfka,EAAalX,KAAKmX,MAEpB,IAAMC,EAAkB,IAAI1Z,EAAW,CAAEC,QAASuZ,IAClDzO,EAASzI,KAAKoX,GAEhB,GAAIJ,EAAOK,YAAcL,EAAOK,WAAW1e,OAAQ,CACjD,IAAMue,EAAe,GACrBF,EAAOK,WAAW5G,SAAQ,SAACrV,GACzB,IAAM+b,EAAS,IAAI5Z,EAAO,CACxBvD,MAAOoB,EAAO2J,KACdvH,MAAOpC,EAAOoC,MACdC,OAAQrC,EAAOqC,OACfT,KAAM,gBAERka,EAAalX,KAAKmX,MAEpB,IAAMG,EAAgB,IAAI5Z,EAAW,CAAEC,QAASuZ,IAChDzO,EAASzI,KAAKsX,GAEhB,GAA4B,aAAxBN,EAAOC,QAAQja,KAAqB,CAEtC,IAAMe,EAAQ,GACdiZ,EAAOC,QAAQA,QAAQxG,SAAQ,SAACC,GAC9B3S,EAAMiC,KAAK0Q,MAIb,IAAM6G,EAAW,IAAIzZ,EAAS,CAC5BC,UAEF0K,EAASzI,KAAKuX,OAGX,CAAE9O,WAAUmO,UAASC,gB,oBCrEjBW,GACX,cAAsC,IAAxBpa,EAAuB,EAAvBA,KAAMqa,EAAiB,EAAjBA,KAAMb,EAAW,EAAXA,QAAW,oBACnC1d,KAAKkE,KAAOA,EACZlE,KAAKue,KAAOA,EACZve,KAAK0d,QAAUA,GAkGJc,GA7Fb,aAAe,IAAD,gCAUd3H,mBAAqB,WAEnB,OAAO,IAAI/C,SAAQ,SAACC,EAASC,GAC3B,EAAKmD,YAAY,oBAAqB,KAAM,CACzCsH,KAAM,KACNC,QAAS,KAET3V,MAAK,SAACwG,EAAUmP,GAAX,OAAuB3K,EAAQxE,EAAUmP,MAC9C1U,OAAM,SAACC,GAAD,OAAS+J,EAAO/J,UAlBf,KAsBd0U,YAAc,WACZ,OAAO,IAAI7K,SAAQ,SAACC,EAASC,GAC3B,IAAMpQ,EAAM,CACVgb,WAAY,EAAKC,WAAWjD,MAAMgD,WAClCE,UAAW,EAAKD,WAAWjD,MAAMkD,UACjCC,cAAe,EAAKF,WAAWjD,MAAMmD,eAEjCC,EAAc,IAAIC,gBAAgBrb,GAAKsb,WAC7CvW,KACG4S,KADH,kBAEe,EAAKsD,WAAWjD,MAAMuD,YAFrC,wBAEgE,EAAKN,WAAWjD,MAAMwD,SAFtF,kCAGIJ,GAEDjW,MAAK,SAACC,GACL,IAAM4S,EAAQ5S,EAASI,KAAKiW,aAC5B,OAAOtL,EAAQ6H,MAEhB5R,OAAM,SAACC,GAAD,OAAS+J,EAAO/J,UAvCf,KA2CdkN,YA3Cc,yCA2CA,WAAOjT,EAAMqa,EAAMvX,GAAnB,UAAAmM,EAAA,yDAEP,EAAKkI,SAFE,gCAGY,EAAKsD,cAHjB,OAGV,EAAKtD,SAHK,uCAML,IAAIvH,SAAQ,SAACC,EAASC,GAC3B,IAAM0J,EAAU,CAEd4B,IAAK,KACLvF,QAAS,EAAKA,QACdH,SAAU,EAAKA,UAIXhW,EAAM,IAAI0a,GAAO,CACrBpa,KAAMA,GAAQ,GACdqa,KAAMA,GAAQ,GACdb,QAASA,IAELC,EAAc3W,EAAUA,EAAQ0X,QAAU,EAAKf,YAC/CvC,EAAU,EAAKyD,WAAWU,aAAanE,QAC7CA,EAAQ,YAAc,EAAKoE,QAC3BpE,EAAO,cAAoB,UAAY,EAAKC,SAE5C,IAAMoE,EAAM,EAAKZ,WAAWU,aAAa3W,IAAI8W,QAE7C/W,KACG4S,KADH,sBAEmB,EAAKsD,WAAWU,aAAa3W,IAAI+W,SAFpD,mCAEuF,EAAKd,WAAWU,aAAa3W,IAAIgX,QAFxH,gBAEuI,EAAKf,WAAWU,aAAa3W,IAAIiX,QAFxK,gBAEuLJ,EAFvL,0BAE4M9B,GACxM/Z,EACA,CAAEwX,QAASA,IAEZrS,MAAK,SAACC,GAAc,IAAD,EACyBwU,GAAgBxU,GAAnDuG,EADU,EACVA,SAAUmO,EADA,EACAA,QAASC,EADT,EACSA,YAG3B,OAFA,EAAKD,QAAUA,EACf,EAAKC,YAAcA,EACZ5J,EAAQxE,EAAUoO,MAE1B3T,OAAM,SAACC,GACN,OAAIA,EAAIjB,UAAoC,MAAxBiB,EAAIjB,SAAS8W,QAC/B,EAAKzE,SAAW,GACTtH,EAAQ,EAAKoD,YAAYjT,EAAMqa,EAAMvX,KAEvC+M,WA5CD,2CA3CA,0DACZ/T,KAAK2d,YAAc,GAEnB3d,KAAK6e,WAAanD,KAAOmD,WACzB7e,KAAKwf,QAAUO,KAAKC,MAAsB,KAAhBD,KAAKE,SAAiC,GAChEjgB,KAAKqb,SAAW,GAChBrb,KAAK4Z,SAAW,GAChB5Z,KAAK+Z,QAAU,ICAbmG,GAAcC,aAAgB,CAClCnK,kBAAmBqH,GACnBhB,QAASkB,KAEL6C,GAAQC,aAAYH,IAC1B3T,QAAQC,IAAI4T,GAAME,YAElBC,KAAQC,KAAK,CACXC,cAAe,CAAEC,aAAa,GAC9BpB,IAAK,KACLqB,UAAW,CACTC,GAAI,CACFC,OAAQC,OAKd,IAAMlK,GAAa,IAAImK,GAGvBC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACC,GAAA,EAAD,CAAiBC,KAAMb,KAAvB,SACE,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,GAAD,CAAKxJ,WAAYA,WAIvBtN,SAAS+X,eAAe,SAM1BzE,M,mBCrDA3d,EAAOC,QAAU,CAAC,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,MAAQ,oBAAoB,QAAU,sBAAsB,YAAc,4B,mBCA5KD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,cAAgB,kCAAkC,iBAAmB,qCAAqC,KAAO,yBAAyB,MAAQ,0BAA0B,SAAW,6BAA6B,YAAc,kC,mBCAhSD,EAAOC,QAAU,CAAC,kBAAoB,oCAAoC,gBAAkB,kCAAkC,uBAAyB,yCAAyC,gBAAkB,kCAAkC,UAAY,4BAA4B,WAAa,+B,mBCAzSD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,IAAM,qBAAqB,KAAO,wB,mBCApID,EAAOC,QAAU,CAAC,YAAc,iCAAiC,cAAc,iCAAiC,eAAe,kCAAkC,UAAY,+BAA+B,WAAa,kC,mBCAzND,EAAOC,QAAU,CAAC,KAAO,mBAAmB,OAAS,qBAAqB,QAAU,sBAAsB,OAAS,uB,mBCAnHD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,cAAgB,8BAA8B,cAAgB,8BAA8B,UAAY,0BAA0B,SAAW,2B,mBCA/LD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,MAAQ,0B,mBCAhED,EAAOC,QAAU,CAAC,UAAY,6BAA6B,SAAW,4BAA4B,MAAQ,yBAAyB,QAAU,6B,mBCA7ID,EAAOC,QAAU,CAAC,yBAA2B,2CAA2C,eAAiB,mC,mBCAzGD,EAAOC,QAAU,CAAC,sBAAwB,4CAA4C,aAAe,mCAAmC,YAAc,kCAAkC,OAAS,+B,mBCAjMD,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,YAAY,0BAA0B,OAAS,uBAAuB,YAAc,8B,mBCAxJD,EAAOC,QAAU,CAAC,WAAa,+BAA+B,gBAAkB,sC,mBCAhFD,EAAOC,QAAU,CAAC,gBAAkB,gCAAgC,YAAY,0BAA0B,OAAS,uBAAuB,YAAc,8B,mBCAxJD,EAAOC,QAAU,CAAC,kBAAoB,6CAA6C,YAAc,yC,mBCAjGD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,kBAAoB,oCAAoC,KAAO,yB,mBCAvHD,EAAOC,QAAU,CAAC,SAAW,2BAA2B,gBAAkB,kCAAkC,gBAAkB,oC,mBCA9HD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,SAAW,2B,mBCA7DD,EAAOC,QAAU,CAAC,MAAQ,qBAAqB,cAAgB,+B,mBCA/DD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,YAAc,+BAA+B,mBAAmB,sC,mBCA3HD,EAAOC,QAAU,CAAC,cAAgB,uC,mBCAlCD,EAAOC,QAAU,CAAC,SAAW,6B,y8GCD7BD,EAAOC,QAAU,CACf2f,WAAY,CACVjD,MAAM,CACJuD,YAAa,gCACbC,SAAU,cACVR,WAAY,qBACZE,UAAW,cACXC,cAAe,oCAEjBQ,aAAa,CACX3W,IAAI,CACF+W,SAAU,mBACVC,QAAS,uCAGTC,QAASrE,uCACTkE,QAASlE,wCAMXJ,QAAQ,CACN,eAAgB,mBAEhB,UAAWI,uCAIX,QAAW,UACX,OAAU,QACV,GAAM,e","file":"static/js/main.17fdac77.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatFooter\":\"ChatFooter_ChatFooter__3taMf\",\"InputEnabled\":\"ChatFooter_InputEnabled__1oU-U\",\"ChatFooterButton\":\"ChatFooter_ChatFooterButton__2Gb-W\",\"ChatFooterModeKeyboard\":\"ChatFooter_ChatFooterModeKeyboard__3cvDb\",\"inputFile\":\"ChatFooter_inputFile__1xHmT\",\"SendButton\":\"ChatFooter_SendButton__R_uI0\",\"ClassLabel\":\"ChatFooter_ClassLabel__nS87U\",\"ChatFooterModeVoice\":\"ChatFooter_ChatFooterModeVoice__51P28\",\"ChatFooterVisualizerWrapper\":\"ChatFooter_ChatFooterVisualizerWrapper__3rcT2\",\"ChatFooterRecognitionWrapper\":\"ChatFooter_ChatFooterRecognitionWrapper__FXYQx\",\"ChatFooterKeyboardButton\":\"ChatFooter_ChatFooterKeyboardButton__3iZqy\",\"LoadingButton\":\"ChatFooter_LoadingButton__2nm4B\",\"Input\":\"ChatFooter_Input__21WJy\",\"RecordButton\":\"ChatFooter_RecordButton__1gDaZ\",\"wave\":\"ChatFooter_wave__dGA2X\",\"items\":\"ChatFooter_items__2sK7L\"};","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4  L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1  c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1  c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z\"\n});\n\nfunction SvgCloseBubbleIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#CC3300\",\n    height: \"20px\",\n    id: \"Layer_1\",\n    viewBox: \"0 0 512 512\",\n    width: \"20px\",\n    xmlSpace: \"preserve\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCloseBubbleIcon);\nexport default __webpack_public_path__ + \"static/media/close-bubble-icon.0c1cc99d.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/widget-img.2c07071b.png\";","import React, { useState } from \"react\";\r\n\r\nimport { ReactComponent as CloseIcon } from \"../../assets/images/close-bubble-icon.svg\";\r\nimport widgetImage from \"../../assets/images/widget-img.png\";\r\nimport classes from \"./WidgetButton.module.css\";\r\nimport Bubble from \"./Bubble/Bubble\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst WidgetButton = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n  const [showBubble, setShowBubble] = useState(true);\r\n\r\n  const hideBubble = () => {\r\n    setShowBubble(false);\r\n  };\r\n\r\n  const buttonClicked = (option) => {\r\n    setShowBubble(true);\r\n    props.click(option);\r\n  };\r\n\r\n  let bubble = \"\";\r\n\r\n  if (showBubble) {\r\n    // eslint-disable-next-line no-unused-vars\r\n    bubble = <Bubble close={hideBubble} />;\r\n  }\r\n\r\n  let widget = \"\";\r\n\r\n  if (props.show) {\r\n    widget = (\r\n      <div\r\n        className={classes.WidgetButtonContainer}\r\n        role=\"region\"\r\n        aria-label={t(\"widget.title\")}\r\n      >\r\n        \r\n\r\n        <button\r\n          id=\"cbWidgetButton\"\r\n          className={classes.WidgetButton}\r\n          onClick={() => buttonClicked('chat')}\r\n          title={t(\"widget.button.title\")}\r\n          aria-label={t(\"widget.button.title\")}\r\n        >\r\n          <img src={widgetImage} alt=\"Open ChatBot\" />\r\n        </button>\r\n\r\n        <button\r\n          id=\"cbWidgetSmallButton\"\r\n          tabIndex=\"0\"\r\n          className={classes.CloseButton}\r\n          onClick={() => buttonClicked('smallButton')}\r\n          title={t(\"widget.bubble.close\")}\r\n          aria-label={t(\"widget.bubble.close\")}\r\n        >\r\n          <CloseIcon />\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <React.Fragment>{widget}</React.Fragment>;\r\n};\r\n\r\nexport default WidgetButton;\r\n","export default __webpack_public_path__ + \"static/media/widget-img-small.5235a67e.png\";","import React from \"react\";\r\n\r\nimport { ReactComponent as CloseIcon } from \"../../../assets/images/close-bubble-icon.svg\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport classes from \"./Bubble.module.css\";\r\n\r\nconst Bubble = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div\r\n        className={classes.BubbleContainer}\r\n        role=\"region\"\r\n        aria-label={t(\"widget.bubble.title\")}\r\n      >\r\n        <button tabIndex=\"0\" className={classes.Bubble} onClick={props.click}>\r\n          <span\r\n            dangerouslySetInnerHTML={{ __html: t(\"widget.bubble.text1\") }}\r\n          />\r\n          <span\r\n            dangerouslySetInnerHTML={{ __html: t(\"widget.bubble.text2\") }}\r\n          />\r\n        </button>\r\n        <button\r\n          tabIndex=\"0\"\r\n          className={classes.CloseButton}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            props.close();\r\n          }}\r\n          title={t(\"widget.bubble.close\")}\r\n          aria-label={t(\"widget.bubble.close\")}\r\n        >\r\n          <CloseIcon />\r\n        </button>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Bubble;\r\n","import React, { useState } from \"react\";\r\nimport widgetImage from \"../../assets/images/widget-img-small.png\";\r\nimport classes from \"./WidgetButtonSmall.module.css\";\r\nimport Bubble from \"./Bubble/Bubble\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst WidgetButton = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n  const [showBubble, setShowBubble] = useState(true);\r\n\r\n  const hideBubble = () => {\r\n    setShowBubble(false);\r\n  };\r\n\r\n  const buttonClicked = (msg) => {\r\n    setShowBubble(true);\r\n    props.click(msg);\r\n  };\r\n\r\n  let bubble = \"\";\r\n\r\n  if (showBubble) {\r\n    bubble = <Bubble close={hideBubble} />;\r\n  }\r\n\r\n  let widget = \"\";\r\n\r\n  if (props.show) {\r\n    widget = (\r\n      <div\r\n        className={classes.WidgetSmall}\r\n        role=\"region\"\r\n        aria-label={t(\"widget.title\")}\r\n      >\r\n        {bubble}\r\n\r\n        <button\r\n          id=\"cbWidgetSmallButton2\"\r\n          className={classes.WidgetButtonSmall}\r\n          onClick={() => buttonClicked('bigButton')}\r\n          title={t(\"widget.button.title\")}\r\n          aria-label={t(\"widget.button.title\")}\r\n        >\r\n          <img src={widgetImage} alt=\"Open ChatBot\" />\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <React.Fragment>{widget}</React.Fragment>;\r\n};\r\n\r\nexport default WidgetButton;\r\n","class Msg {\r\n  constructor(type, fromUser, payload) {\r\n    this.type = type;\r\n    this.fromUser = fromUser || false;\r\n    this.payload = payload;\r\n  }\r\n}\r\n\r\nexport class TextMsg extends Msg {\r\n  constructor({ fromUser, text, agentChat, now}) {\r\n    super();\r\n    this.type = \"text\";\r\n    this.fromUser = fromUser;\r\n    this.payload = {\r\n      text: text,\r\n    };\r\n    this.agentChat = agentChat;\r\n    this.now = now;\r\n  }\r\n}\r\n\r\nexport class Button {\r\n  constructor({ title, value, action, type }) {\r\n    this.title = title;\r\n    this.value = value;\r\n    this.action = action;\r\n    this.type = type;\r\n  }\r\n}\r\n\r\nexport class QuickReply extends Msg {\r\n  constructor({ buttons, downloads, position }) {\r\n    super();\r\n    this.position = position;\r\n    this.type = \"quick_reply\";\r\n    this.payload = {\r\n      buttons: buttons,\r\n      downloads: downloads,\r\n    };\r\n  }\r\n}\r\n\r\nexport class Carousel extends Msg {\r\n  constructor({ items }) {\r\n    super();\r\n    this.type = \"CARRUSEL\";\r\n    this.payload = {\r\n      items: items,\r\n    };\r\n  }\r\n}\r\n\r\nexport class Card extends Msg {\r\n  constructor({ title, image, buttons }) {\r\n    super();\r\n    this.type = \"card\";\r\n    this.payload = {\r\n      title: title,\r\n      image: image,\r\n      buttons: buttons,\r\n    };\r\n  }\r\n}\r\n\r\nexport class Image extends Msg {\r\n  constructor({ image, position }) {\r\n    super();\r\n    this.position = position;\r\n    this.type = \"card\";\r\n    this.payload = {\r\n      image: image,\r\n    };\r\n  }\r\n}\r\nexport class Download {\r\n  constructor({ title, url, file, downloadOk, downloadKo, type }) {\r\n    this.title = title;\r\n    this.url = url;\r\n    this.file = file;\r\n    this.downloadOk = downloadOk;\r\n    this.downloadKo = downloadKo;\r\n    this.type = type;\r\n  }\r\n}\r\nexport class Form extends Msg {\r\n  constructor({ id, inputs, buttons, position }) {\r\n    super();\r\n    this.position = position;\r\n    this.type = \"form\";\r\n    this.payload = {\r\n      id: id,\r\n      inputs: inputs,\r\n      buttons: buttons,\r\n    };\r\n  }\r\n}\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  fillRule: \"evenodd\",\n  clipRule: \"evenodd\",\n  d: \"M10 6H22C24.2091 6 26 7.79086 26 10V22C26 24.2091 24.2091 26 22 26H10C7.79086 26 6 24.2091 6 22V10C6 7.79086 7.79086 6 10 6ZM4 10C4 6.68629 6.68629 4 10 4H22C25.3137 4 28 6.68629 28 10V22C28 25.3137 25.3137 28 22 28H10C6.68629 28 4 25.3137 4 22V10ZM10 21C9.44772 21 9 21.4477 9 22C9 22.5523 9.44772 23 10 23H22C22.5523 23 23 22.5523 23 22C23 21.4477 22.5523 21 22 21H10Z\",\n  fill: \"white\"\n});\n\nfunction SvgRectangleIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 32,\n    height: 32,\n    viewBox: \"0 0 32 32\",\n    fill: \"none\",\n    \"aria-hidden\": \"true\",\n    focusable: \"false\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgRectangleIcon);\nexport default __webpack_public_path__ + \"static/media/rectangle-icon.a9a68ad2.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport classes from \"./ChatHeader.module.css\";\r\nimport widgetIcon from \"../../../assets/images/widget-img.png\";\r\nimport { ReactComponent as CloseIcon } from \"../../../assets/images/rectangle-icon.svg\";\r\n//import { ReactComponent as MoveIcon } from \"../../../assets/images/move-icon.svg\";\r\n\r\nconst ChatHeader = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n\r\n  const buttonClicked = (option) => {\r\n    props.close(option);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={classes.ChatHeader}\r\n      role=\"region\"\r\n      aria-label={t(\"chatheader.title\")}\r\n    >\r\n      <div className={classes.HeaderAndLogo}>    \r\n        <img src={widgetIcon} alt=\"Open ChatBot\" className={classes.Logo} />        \r\n        <div className={classes.Title}>LineaMadrid</div>\r\n      </div>\r\n      <div className={classes.MoveAndCloseIcon}>        \r\n        <button\r\n          className={classes.CloseButton}\r\n          onClick={() => buttonClicked('chat')}\r\n          title={t(\"chatheader.close\")}\r\n          aria-label={t(\"chatheader.close\")}\r\n        >\r\n          <CloseIcon />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default ChatHeader;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Spinner.module.css\";\r\n\r\nconst Spinner = (props) => {\r\n  return (\r\n    <div className={classes.Spinner}>\r\n      <div className={classes.DotContainer}>\r\n        <div className={classes.Dot}></div>\r\n        <div className={classes.Dot}></div>\r\n        <div className={classes.Dot}></div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./TextMessage.module.css\";\r\n\r\nconst TextMessage = (props) => {\r\n  const messageClasses = [\r\n    classes[`${props.origin}-message`],\r\n    classes.TextMessage,\r\n    classes.imageAvatar,\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      {!props.fromUser && props.agentChat ? (\r\n        <div>\r\n          <div className={classes.WithAvatar}>\r\n            <img className={classes.ImgAvatar} src=\"iconoAvatar.jpeg\" alt=\"Person\" />\r\n            <div>\r\n              <div className={messageClasses.join(\" \")} style={props.style}>\r\n                <span\r\n                  dangerouslySetInnerHTML={{ __html: props.payload.text }}\r\n                />\r\n              </div>\r\n              <small>\r\n                {props.now}\r\n                {props.fromUser}\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={messageClasses.join(\" \")} style={props.style}>\r\n          <span dangerouslySetInnerHTML={{ __html: props.payload.text }} />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\nexport default TextMessage;\r\n","import React, { useState } from \"react\";\r\nimport classes from \"./Button.module.css\";\r\n\r\nconst Button = (props) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [clicked, setClicked] = useState(false);\r\n  const clickHandler = () => {\r\n    // if (!props.disabled) {\r\n    //   setClicked(true);\r\n    // }\r\n    if (props.type === 'URL' && props.action === 'GET_LOCATION')\r\n    {\r\n      props.getClick(props.action, props.title);\r\n    } \r\n    else if (props.type === 'URL') {\r\n      window.open(\r\n        props.value,\r\n        props.type === \"URL\" ? \"_blank\" : \"_self\"\r\n      );\r\n    }\r\n    else if (props.value) {\r\n      props.getClick(props.value, props.title);\r\n    }\r\n  };\r\n  const handleKeypress = (e) => {\r\n    //it triggers by pressing the enter key\r\n    if (e.charCode === 13) {\r\n      clickHandler();\r\n    }\r\n  };\r\n  \r\n  let buttonClasses = [];\r\n  if (props.type === 'disabled') {\r\n    buttonClasses = [classes.Button, classes.Disabled];\r\n  }\r\n  else {\r\n    buttonClasses = [classes.Button, ( props.type === 'quick_reply' ? classes.Secondary : '')];\r\n  }\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      //ref={(node) => { button = node; }}\r\n      style={props.style}\r\n      onKeyPress={handleKeypress}\r\n      className={buttonClasses.join(\" \")}\r\n      disabled={props.isDisabled}\r\n      onClick={clickHandler}\r\n    >\r\n      <span>{props.title}</span>\r\n    </button>\r\n  );\r\n};\r\nexport default Button;\r\n","// eslint-disable-next-line no-unused-vars\r\nimport React, { useState, useEffect } from \"react\";\r\n\r\nimport classes from \"./QuickReply.module.css\";\r\nimport Button from \"../Button/Button\";\r\n\r\nconst QuickReply = (props) => {\r\n  /*const [disabled, setDisabled]=useState(false);\r\n\r\n  useEffect(() => {\r\n    // focusing the first button of new quickreply\r\n    firstButton.button.focus();\r\n    const clickHandler = (value, altText) => {\r\n      if(!disabled){\r\n        if (value) props.selected(value, altText);\r\n      }\r\n    }\r\n  \r\n  }, []);\r\n*/\r\n  const messageClasses = [\r\n    classes[`${props.origin}-message`],\r\n    classes.QuickReply,\r\n  ];\r\n  if (props.payload.buttons.length > 2) {\r\n    messageClasses.push(classes.VerticalButtons);\r\n  }\r\n\r\n  const options = props.payload.buttons.map((btn, index) => (\r\n    <li key={index}>\r\n      <Button\r\n        //ref={index === 0 ? (button) => { firstButton = button; } : null}\r\n        key={index}\r\n        title={btn.title}\r\n        value={btn.value}\r\n        action={btn.action}\r\n        type={btn.type}\r\n        click={props.selected}\r\n        style={props.buttonStyle}\r\n        getClick={props.getClick}\r\n      />\r\n    </li>\r\n  ));\r\n  return (\r\n    <div className={messageClasses.join(\" \")} style={props.style}>\r\n      {options}\r\n    </div>\r\n  );\r\n};\r\nexport default QuickReply;\r\n","import React, { useEffect, useState } from 'react'\r\nimport classes from \"./Carousel.module.css\";\r\n\r\nconst Carousel = (props) => {\r\n    const {children} = props;\r\n\r\n    //console.log('VALORES', children);\r\n    const [currentIndex, setCurrentIndex] = useState(0)\r\n    const [length, setLength] = useState(children.length)\r\n\r\n    // Set the length to match current children from props\r\n    useEffect(() => {\r\n        setLength(children.length)\r\n    }, [children])\r\n\r\n    const next = () => {\r\n        if (currentIndex < (length - 1)) {\r\n            setCurrentIndex(prevState => prevState + 1)\r\n        }\r\n    }\r\n\r\n    const prev = () => {\r\n        if (currentIndex > 0) {\r\n            setCurrentIndex(prevState => prevState - 1)\r\n        }\r\n    }\r\n\r\n    return (\r\n      <div className={classes.carouselContainer}>\r\n        <div className={classes.carouselWrapper}>\r\n          {/* You can alwas change the content of the button to other things */}\r\n          {currentIndex > 0 && (\r\n            <button onClick={prev} className={classes.leftArrow}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                role=\"img\"\r\n                aria-label=\"Previous card\"\r\n              >\r\n                <path d=\"M16 17.65L14.261 19 8 12l6.261-7L16 6.35 10.946 12z\"></path>\r\n              </svg>\r\n            </button>\r\n          )}\r\n          <div className={classes.carouselContentWrapper}>\r\n            <div\r\n              className={classes.carouselContent}\r\n              style={{ transform: `translateX(-${currentIndex * 100}%)` }}\r\n            >\r\n              {children}\r\n            </div>\r\n          </div>\r\n          {/* You can alwas change the content of the button to other things */}\r\n          {currentIndex < length - 1 && (\r\n            <button onClick={next} className={classes.rightArrow}>\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                width=\"24\"\r\n                height=\"24\"\r\n                viewBox=\"0 0 24 24\"\r\n                role=\"img\"\r\n                aria-label=\"Next card\"\r\n              >\r\n                <path d=\"M8 17.65L9.739 19 16 12 9.739 5 8 6.35 13.054 12z\"></path>\r\n              </svg>\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Carousel\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 15L16 11M12 15V3V15ZM12 15L8 11L12 15Z\",\n  stroke: \"#C33400\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M2 17L2.621 19.485C2.72915 19.9177 2.97882 20.3018 3.33033 20.5763C3.68184 20.8508 4.11501 20.9999 4.561 21H19.439C19.885 20.9999 20.3182 20.8508 20.6697 20.5763C21.0212 20.3018 21.2708 19.9177 21.379 19.485L22 17\",\n  stroke: \"#C33400\",\n  strokeWidth: 2,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n});\n\nfunction SvgDownloadIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    focusable: \"false\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownloadIcon);\nexport default __webpack_public_path__ + \"static/media/download-icon.612940a1.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from \"react\";\r\n\r\nimport classes from \"./Download.module.css\";\r\nimport { ReactComponent as DownloadIcon } from \"../../../assets/images/download-icon.svg\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst Download = (props) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [clicked, setClicked] = useState(false);\r\n\r\n  const clickHandler = () => {\r\n    setClicked(true);\r\n\r\n    axios({\r\n      url: props.url,\r\n      method: \"GET\",\r\n      responseType: \"blob\", // important\r\n    })\r\n      .then((response) => {\r\n        const url = window.URL.createObjectURL(new Blob([response.data]));\r\n        const link = document.createElement(\"a\");\r\n        link.href = url;\r\n        link.setAttribute(\"download\", props.file);\r\n        document.body.appendChild(link);\r\n        link.click();\r\n        // Clean up and remove the link\r\n        link.parentNode.removeChild(link);\r\n        props.click(props.downloadOk, props.title);\r\n      })\r\n      .catch((err) => {\r\n        props.click(props.downloadKo, props.title);\r\n      });\r\n  };\r\n\r\n  const downloadClasses = [\r\n    classes.Download,\r\n    classes[`Download--${props.type}`],\r\n  ];\r\n\r\n  // if (this.state.clicked){\r\n  //   downloadClasses.push(classes.Download--clicked)\r\n  // }\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      style={props.style}\r\n      className={downloadClasses.join(\" \")}\r\n      disabled={props.isDisabled}\r\n      onClick={clickHandler}\r\n    >\r\n      <DownloadIcon />\r\n      <span>{props.title}</span>\r\n    </button>\r\n  );\r\n};\r\nexport default Download;\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport classes from \"./Card.module.css\";\r\nimport Button from \"../Button/Button\";\r\nimport Download from \"../Download/Download\";\r\n\r\nconst Card = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n  const messageClasses = [classes[`${props.origin}-message`], classes.Card];\r\n\r\n  const clickHandler = (value, altBtnText) => {\r\n    if (value) props.selected(value, altBtnText);\r\n  };\r\n\r\n  let buttons = \"\";\r\n\r\nif (props.payload){\r\n  buttons = props.payload.buttonList\r\n  .map((btn, index) => (\r\n    <li key={index}>\r\n      <Button\r\n        key={index}\r\n        title={btn.title}\r\n        value={btn.value}\r\n        action={btn.action}\r\n        type={btn.type}\r\n        style={props.buttonStyle}\r\n        click={clickHandler}\r\n      />\r\n    </li>\r\n  ));\r\n  }\r\n\r\n  //falta download\r\n  let downloads = \"\";\r\n\r\n  downloads = props.payload && props.payload.downloads\r\n    ? props.payload.downloads.map((dl, index) => (\r\n        <li key={index}>\r\n          <Download\r\n            title={dl.title}\r\n            url={dl.url}\r\n            type={dl.type}\r\n            file={dl.file}\r\n            downloadKo={dl.downloadKo}\r\n            downloadOk={dl.downloadOk}\r\n            style={props.dowloadStyle}\r\n            click={clickHandler}\r\n          />\r\n        </li>\r\n      ))\r\n    : \"\";\r\n  const image = props.payload && props.payload.image ? (\r\n    <div className={classes.Image}>\r\n      <img\r\n        src={props.payload.image}\r\n        alt={props.payload.title}\r\n        aria-label={t(\"card.image\")}\r\n      />\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const title = props.payload && props.payload.title ? (\r\n    <div className={classes.Title} aria-label={t(\"card.title\")}>\r\n      {props.payload.title}\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const description = props.payload && props.payload.text ? (\r\n    <div className={classes.Description} aria-label={t(\"card.description\")}>\r\n      <div dangerouslySetInnerHTML={{ __html: props.payload.text }} />\r\n    </div>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const buttonContainer = props && props.payload.buttonList.length ? (\r\n    <ul className={classes.Buttons} aria-label={t(\"card.buttons\")}>\r\n      {buttons}\r\n    </ul>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const downloadsContainer = props.payload && props.payload.downloads ? (\r\n    <ul\r\n      className={[classes.Buttons, classes.Downloads].join(\" \")}\r\n      aria-label={t(\"card.downloads\")}\r\n    >\r\n      {downloads}\r\n    </ul>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={messageClasses.join(\" \")}\r\n      style={props.style}\r\n      role=\"region\"\r\n      tabIndex=\"0\"\r\n      aria-label={t(\"card.header\")}\r\n    >\r\n      {image}\r\n      <div className={classes.Info}>\r\n        {title}\r\n        {description}\r\n        {buttonContainer}\r\n        {downloadsContainer}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Card;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport classes from \"./Select.module.css\";\r\n\r\nconst Select = (props) => {\r\n  const [inputModified, setInputModified] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!inputModified && props.value) {\r\n      setInputModified(true);\r\n      const targetOption = props.options.find((opt) => props.value === opt.id);\r\n      props.setValue(props.id, props.value, targetOption.value);\r\n    }\r\n  }, [inputModified, props]);\r\n\r\n  const messageClasses = [\r\n    classes.Select,\r\n    inputModified ? classes.Modified : \"\",\r\n  ];\r\n\r\n  const placeholder = (\r\n    <option key={\"placeholder\"} disabled value={\"placeholder\"}>\r\n      {props.placeholder}\r\n    </option>\r\n  );\r\n\r\n  const options = props.options.map((opt) => {\r\n    return (\r\n      <option key={opt.id} value={opt.id}>\r\n        {opt.value}\r\n      </option>\r\n    );\r\n  });\r\n\r\n  options.unshift(placeholder);\r\n\r\n  const changeHandler = (e) => {\r\n    if (!inputModified) setInputModified(true);\r\n    const targetOption = props.options.find((opt) => e.target.value === opt.id);\r\n    props.setValue(props.id, e.target.value, targetOption.value);\r\n  };\r\n\r\n  return (\r\n    <div className={messageClasses.join(\" \")}>\r\n      <select\r\n        id={props.id}\r\n        onChange={changeHandler}\r\n        disabled={props.isDisabled}\r\n        style={props.style}\r\n        defaultValue={props.value || \"placeholder\"}\r\n        name={props.id}\r\n      >\r\n        {options}\r\n      </select>\r\n      <label htmlFor={props.id}> {props.label} </label>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Select;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport classes from \"./Checkbox.module.css\";\r\n\r\nconst Checkbox = (props) => {\r\n  const [inputModified, setInputModified] = useState(false);\r\n\r\n  const messageClasses = [\r\n    classes.Checkbox,\r\n    inputModified ? classes.Modified : \"\",\r\n  ];\r\n\r\n  // const isChecked = props.value === 'true' ;\r\n  useEffect(() => {\r\n    // comoponentDidMout hook to set select value in a default valued is passed in props\r\n    if (!inputModified && props.value) {\r\n      setInputModified(true);\r\n      props.setValue(props.id, props.value, null);\r\n    }\r\n  }, [inputModified, props]);\r\n\r\n  const changeHandler = (e) => {\r\n    if (!inputModified) setInputModified(true);\r\n    console.log(e.target.checked);\r\n    props.setValue(props.id, e.target.checked, null);\r\n  };\r\n\r\n  let errMsg = \"\";\r\n  if (props.showErrors && !props.isValid) {\r\n    messageClasses.push(classes.Invalid);\r\n    errMsg = (\r\n      <div className={classes.Error}>\r\n        <span>\r\n          {\"\\u26A0\"} {props.errorMessage}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={messageClasses.join(\" \")}>\r\n      <input\r\n        id={props.id}\r\n        type=\"checkbox\"\r\n        onChange={changeHandler}\r\n        style={props.style}\r\n        disabled={props.isDisabled}\r\n        checked={props.value}\r\n        name={props.id}\r\n      />\r\n      <label htmlFor={props.id}> {props.label} </label>\r\n      {errMsg}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Checkbox;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport classes from \"./TextInput.module.css\";\r\n\r\nconst TextInput = (props) => {\r\n  const [inputModified, setInputModified] = useState(false);\r\n\r\n  const messageClasses = [\r\n    classes.TextInput,\r\n    inputModified ? classes.Modified : \"\",\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // comoponentDidMout hook to set select value in a default valued is passed in props\r\n    if (!inputModified && props.value) {\r\n      setInputModified(true);\r\n      props.setValue(props.id, props.value, props.value);\r\n    }\r\n  }, [inputModified, props]);\r\n\r\n  const changeHandler = (e) => {\r\n    if (!inputModified) setInputModified(true);\r\n    props.setValue(props.id, e.target.value, e.target.value);\r\n  };\r\n\r\n  let errMsg = \"\";\r\n  if (props.showErrors && !props.isValid) {\r\n    messageClasses.push(classes.Invalid);\r\n    errMsg = (\r\n      <div className={classes.Error}>\r\n        <span>\r\n          {\"\\u26A0\"} {props.errorMessage}\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={messageClasses.join(\" \")}>\r\n      <input\r\n        id={props.id}\r\n        onChange={changeHandler}\r\n        style={props.style}\r\n        placeholder={props.placeholder}\r\n        disabled={props.isDisabled}\r\n        value={props.value}\r\n        name={props.id}\r\n      />\r\n      <label htmlFor={props.id}> {props.label} </label>\r\n      {errMsg}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TextInput;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport classes from \"../Form/Form.module.css\";\r\nimport Button from \"../Button/Button\";\r\nimport Select from \"../Form/Select/Select\";\r\nimport Checkbox from \"../Form/Checkbox/Checkbox\";\r\nimport TextInput from \"./TextInput/TextInput\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst Form = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n  const [id, setId] = useState(\"\");\r\n  const [inputs, setInputs] = useState([]);\r\n  const [showErrors, setShowErrors] = useState(false);\r\n  const [disabled, setDisabled] = useState(props.isDisabled);\r\n\r\n  useEffect(() => {\r\n    // inputs\r\n    const inputsArray = props.payload.inputs.map((inpt) => {\r\n      return {\r\n        ...{\r\n          value: inpt.value || \"\",\r\n          altText: \"\",\r\n          isValid: !inpt.required, //if is required, isValid = false by default\r\n          errorMessage: t(\"form.defaultError\"),\r\n        },\r\n        ...inpt,\r\n      };\r\n    });\r\n\r\n    setId(props.payload.id);\r\n    setInputs(inputsArray);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const sendHandler = (value, altBtnText) => {\r\n    const errors = !!inputs.find((inpt) => !inpt.isValid);\r\n\r\n    if (errors) {\r\n      setShowErrors(errors);\r\n      return;\r\n    }\r\n\r\n    const payload = {\r\n      form: {\r\n        id: id,\r\n        inputs: inputs.map((inpt) => ({ id: inpt.id, value: inpt.value })),\r\n      },\r\n    };\r\n    let altText = inputs.map((inpt) => inpt.altText);\r\n    altText = altText.filter((n) => n).join(\", \");\r\n    props.selected(value, altText || altBtnText, payload);\r\n    setDisabled(true);\r\n  };\r\n\r\n  const skipHandler = (value, altBtnText) => {\r\n    props.selected(value, altBtnText);\r\n    setDisabled(true);\r\n  };\r\n\r\n  const validate = (input) => {\r\n    let isValid = true;\r\n    let errorMessage = input.errorMessage;\r\n\r\n    if (input.required && !input.value) {\r\n      isValid = false;\r\n    }\r\n    if (input.validations) {\r\n      for (let i = 0; i < input.validations.length; i++) {\r\n        var re = new RegExp(input.validations[i].regex);\r\n        if (!re.test(input.value)) {\r\n          isValid = false;\r\n          errorMessage = input.validations[i].errorMessage;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    return [isValid, errorMessage];\r\n  };\r\n\r\n  const setValues = (id, value, altText) => {\r\n    const inputsArray = [...inputs];\r\n    const target = inputsArray.find((inpt) => inpt.id === id);\r\n    target.value = value;\r\n    target.altText = altText;\r\n    [target.isValid, target.errorMessage] = validate(target);\r\n\r\n    setInputs(inputsArray);\r\n  };\r\n\r\n  const checkDisabled = () =>\r\n    !inputs.find((inpt) => inpt.required && !inpt.value);\r\n\r\n  const messageClasses = [classes[`${props.origin}-message`], classes.Form];\r\n\r\n  let input = \"\";\r\n\r\n  input = inputs.map((inpt, index) => {\r\n    let inputElement = \"\";\r\n    switch (inpt.type) {\r\n      case \"select\":\r\n        inputElement = (\r\n          <Select setValue={setValues} isDisabled={disabled} {...inpt} />\r\n        );\r\n        break;\r\n      case \"text\":\r\n        inputElement = (\r\n          <TextInput\r\n            setValue={setValues}\r\n            isDisabled={disabled}\r\n            showErrors={showErrors}\r\n            {...inpt}\r\n          />\r\n        );\r\n        break;\r\n      case \"checkbox\":\r\n        inputElement = (\r\n          <Checkbox\r\n            setValue={setValues}\r\n            isDisabled={disabled}\r\n            showErrors={showErrors}\r\n            {...inpt}\r\n          />\r\n        );\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return <li key={index}>{inputElement}</li>;\r\n  });\r\n\r\n  const inputsContainer = (\r\n    <ul className={classes.Inputs} aria-label={t(\"form.inputs\")}>\r\n      {input}\r\n    </ul>\r\n  );\r\n\r\n  let buttons = \"\";\r\n\r\n  buttons = props.payload.buttons.map((btn, index) => {\r\n    const handler = btn.type === \"cancel\" ? skipHandler : sendHandler;\r\n    const isDisabled = btn.type === \"cancel\" ? false : checkDisabled();\r\n\r\n    return (\r\n      <li key={index}>\r\n        <Button\r\n          title={btn.title}\r\n          value={btn.value}\r\n          action={btn.action}\r\n          type={btn.type}\r\n          style={props.buttonStyle}\r\n          isDisabled={isDisabled || disabled}\r\n          click={handler}\r\n        />\r\n      </li>\r\n    );\r\n  });\r\n\r\n  const buttonContainer = props.payload.buttons.length ? (\r\n    <ul className={classes.Buttons} aria-label={t(\"form.buttons\")}>\r\n      {buttons}\r\n    </ul>\r\n  ) : (\r\n    \"\"\r\n  );\r\n\r\n  const handleKeypress = (e) => {\r\n    //it triggers by pressing the enter key\r\n    if (e.charCode === 13) {\r\n      e.preventDefault();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={messageClasses.join(\" \")}\r\n      style={props.style}\r\n      role=\"region\"\r\n      tabIndex=\"0\"\r\n      aria-label={t(\"form.header\")}\r\n    >\r\n      <form id={props.id} className={classes.Info} onKeyPress={handleKeypress}>\r\n        {inputsContainer}\r\n        {buttonContainer}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\n\r\nimport classes from \"./Backdrop.module.css\";\r\n\r\nconst Backdrop = (props) => {\r\n  return (\r\n    <div className={classes.Backdrop} onClick={props.clicked}>\r\n      {props.children}\r\n    </div>\r\n  );\r\n};\r\nexport default Backdrop;\r\n","import React, { useState } from \"react\";\r\nimport classes from \"./Image.module.css\";\r\nimport Backdrop from \"../../hoc/Backdrop/Backdrop\";\r\n\r\nconst Image = (props) => {\r\n  const [fullSize, setFullSize] = useState(false);\r\n\r\n  function hideFullSize() {\r\n    setFullSize(false);\r\n  }\r\n\r\n  function showFullSize() {\r\n    setFullSize(true);\r\n  }\r\n\r\n  const fullSizeImage = fullSize ? (\r\n    <Backdrop fullWindow={true} show={fullSize} clicked={hideFullSize}>\r\n      <img className={classes.FullSizeImage} src={props.payload.image} alt=\"\" />\r\n    </Backdrop>\r\n  ) : null;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className={classes.Image} style={props.style}>\r\n        <img src={props.payload.image} onClick={showFullSize} alt=\"\" />\r\n      </div>\r\n      {fullSizeImage}\r\n    </React.Fragment>\r\n  );\r\n};\r\nexport default Image;\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nimport classes from \"./ChatBody.module.css\";\r\nimport Spinner from \"./Spinner/Spinner\";\r\nimport TextMessage from \"../../chatElements/TextMessage/TextMessage\";\r\nimport QuickReply from \"../../chatElements/QuickReply/QuickReply\";\r\nimport Carousel from \"../../chatElements/Carousel/Carousel\";\r\nimport Card from \"../../chatElements/Card/Card\";\r\nimport Form from \"../../chatElements/Form/Form\";\r\nimport Image from \"../../chatElements/Image/Image\";\r\nimport Button from \"../../chatElements/Button/Button\";\r\n\r\nconst ChatBody = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n\r\n  const chatBodyDiv = useRef(null);\r\n\r\n  useEffect(() => {\r\n    chatBodyDiv.current.scrollTop =\r\n      chatBodyDiv.current.scrollHeight - chatBodyDiv.current.clientHeight;\r\n  });\r\n\r\n  const processMsgs = (messages) =>\r\n    messages.map((msg, index) => {\r\n      const origin = msg.fromUser ? \"User\" : \"Bot\";       \r\n\r\n      //console.log(\"+++++++++++ msg\",msg) ;         \r\n      switch (msg.type) {\r\n        case \"text\":\r\n          //console.log(\"--TEXT--\",msg.type);\r\n          //console.log(\"--TEXT2--\",origin)\r\n          return (\r\n            <TextMessage\r\n              // ref={scrollTargetMessage}\r\n              key={index}\r\n              position={msg.position}\r\n              origin={origin}\r\n              fromUser={msg.fromUser}\r\n              payload={msg.payload}\r\n              agentChat={msg.agentChat}\r\n              now={msg.now}\r\n            /> \r\n          );\r\n        case \"quick_reply\":\r\n          //console.log(\"--QUICKREPLY--\",msg.type)\r\n          return (\r\n            <QuickReply\r\n              key={index}\r\n              position={msg.position}\r\n              origin={origin}\r\n              payload={msg.payload}\r\n              selected={props.sendMsg}\r\n              getClick ={props.pushButton}\r\n            />\r\n          );\r\n        case \"CARRUSEL\":\r\n          console.log(\"--CARRUSEL--\",msg.type)\r\n          return (\r\n            <Carousel key={index} origin={origin} type={msg.type}>\r\n               {processMsgs(msg.payload.items)}\r\n          </Carousel>\r\n          );\r\n        case \"form\":\r\n          console.log(\"--FORM--\",msg.type)\r\n          const isDisabled = index !== messages.length - 1;\r\n          return (\r\n            <Form\r\n              key={index}\r\n              position={msg.position}\r\n              origin={origin}\r\n              payload={msg.payload}\r\n              selected={props.sendMsg}\r\n              isDisabled={isDisabled}\r\n            />\r\n          );\r\n        case \"card\":\r\n          console.log(\"--CARD--\",msg.type)\r\n          let constData = [];\r\n          if (msg.buttonList) {\r\n            constData = msg;\r\n          }\r\n          return (\r\n            <Card\r\n              key={index}\r\n              position={msg.position}\r\n              origin={origin}\r\n              payload={constData}\r\n              selected={props.sendMsg}\r\n            />\r\n          );\r\n        case \"image\":\r\n          console.log(\"--IMAGE--\",msg.type)\r\n          return <Image key={index} origin={origin} payload={msg.payload} />;\r\n        case \"buttons\":\r\n          console.log(\"--BUTTONS--\",msg.type)\r\n          return (\r\n            <Button \r\n              key={index}\r\n              position={msg.position}\r\n              origin={origin}\r\n              name={msg.name}\r\n              value={msg.value}\r\n              type={msg.flow}\r\n              action={msg.action}\r\n            />\r\n          );\r\n        default:          \r\n          console.log(\"--DEFAULT--\",msg.type)\r\n          return (\r\n            <TextMessage\r\n              key={index}\r\n              // ref={scrollTargetMessage}\r\n              position={msg.position}\r\n              origin=\"Bot\"\r\n              fromUser={msg.fromUser}\r\n              setIsAgent={props.setIsAgent}\r\n              agentChat={msg.agentChat}\r\n              now={msg.now}\r\n              payload={{ text: t(\"chatbody.error-msg\") }}\r\n            />\r\n          );\r\n      }\r\n    });\r\n\r\n  const msgElements = processMsgs(props.messages);\r\n\r\n  return (\r\n    <div\r\n      className={classes.ChatBody}\r\n      tabIndex=\"0\"\r\n      aria-live=\"polite\"\r\n      role=\"region\"\r\n      aria-label={t(\"chatbody.title\")}\r\n      ref={chatBodyDiv}\r\n    >\r\n      <div className={classes.MessagesContainer}>\r\n        {msgElements}\r\n        {props.showSpinner ? <Spinner /> : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBody;\r\n","import React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport useSpeechToText from \"react-hook-speech-to-text\";\r\nimport classes from \"./Textarea.module.css\";\r\n//import micIcon from \"../../../../assets/images/mic.svg\";\r\n//import keyboardIcon from \"../../../../assets/images/keyboard-icon.svg\";\r\n\r\nconst Textarea = (props) => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const { t } = useTranslation(\"global\");\r\n  // eslint-disable-next-line no-unused-vars\r\n  const recordButtonClasses = [classes.RecordButton];\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  // const changeHandler = (e) => {\r\n  //   props.setInputValue(e.target.value);\r\n  // };\r\n\r\n  const handleChange = (e) => {\r\n    setValue(JSON.stringify(interimResult));\r\n    props.setInputValue(e.target.value);\r\n    console.log(\"JSON.stringify(interimResult)\", JSON.stringify(interimResult));\r\n  };\r\n\r\n  const handleKeypress = (e) => {\r\n    //it triggers by pressing the enter key\r\n    if (e.charCode === 13) {\r\n      props.sendInputValue(e.target.value);\r\n    }\r\n  };\r\n\r\n  const clickHandlerKeyboard = () => {\r\n    stopSpeechToText();\r\n    props.setKeyBoardMode(true);\r\n  };\r\n\r\n  const {\r\n    error,\r\n    interimResult,\r\n    // eslint-disable-next-line no-unused-vars\r\n    isRecording,\r\n    // eslint-disable-next-line no-unused-vars\r\n    results,\r\n    // eslint-disable-next-line no-unused-vars\r\n    startSpeechToText,\r\n    stopSpeechToText,\r\n  } = useSpeechToText({\r\n    continuous: true,\r\n    useLegacyResults: false,\r\n  });\r\n\r\n  //if (error) return <p>Web Speech API is not available in this browser </p>;\r\n  console.log(error);\r\n\r\n  return (\r\n    <>\r\n      {/* TO-DO: temporal delete after test */}\r\n      {/* <ul>\r\n        {results.map((result) => (\r\n          <li key={result.timestamp}>{result.transcript}</li>\r\n        ))}\r\n        {interimResult && <li>{interimResult}</li>}\r\n      </ul> */}\r\n      <textarea\r\n        className={classes.Textarea}\r\n        name=\"commentTextArea\"\r\n        type=\"text\"\r\n        rows=\"1\"\r\n        onChange={handleChange}\r\n        onKeyPress={handleKeypress}\r\n        value={props.setVal}\r\n      />\r\n      {/* <button onClick={isRecording ? stopSpeechToText : startSpeechToText}  className={recordButtonClasses.join(\" \")}>      \r\n      <img data-recording={isRecording} src={micIcon} alt=\"\" />\r\n    </button> */}\r\n      <button\r\n        className={classes.ChatFooterKeyboardButton}\r\n        onClick={clickHandlerKeyboard}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          width=\"24\"\r\n          height=\"24\"\r\n          viewBox=\"0 0 24 24\"\r\n          role=\"img\"\r\n          aria-label=\"Speak a message\"\r\n          className={classes.KeyboardButton}\r\n        >\r\n          <path fill=\"none\" d=\"M0 0h24v24H0V0zm0 0h24v24H0V0z\"></path>\r\n          <path d=\"M20 7v10H4V7h16m0-2H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2zm0 3h2v2h-2zM8 8h2v2H8zm0 3h2v2H8zm-3 0h2v2H5zm0-3h2v2H5zm3 6h8v2H8zm6-3h2v2h-2zm0-3h2v2h-2zm3 3h2v2h-2zm0-3h2v2h-2z\"></path>\r\n        </svg>\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Textarea;\r\n","import React, { useState, useRef, useEffect} from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport classes from \"./InputText.module.css\";\r\nimport data from './suggestions/suggestions.json';\r\n//import TagManager from 'react-gtm-module'\r\n\r\nconst InputText = (props, {options = []}) => {\r\n  const { t } = useTranslation(\"global\");\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [isDisabled, setIsDisabled] = useState(false);\r\n  const [value, setValue] = useState('');\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  options = data;\r\n  const inputRef = useRef(null);\r\n  const suggestions = options.filter((option) => (value.trim().length > 2) ? option.toLowerCase().includes(value.toLowerCase()) : '');\r\n\r\n  const changeHandler = (e) => {\r\n    setValue(e.target.value);\r\n    props.setInputValue(e.target.value);\r\n    props.getData(e.target.value);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setValue('');\r\n    setShowSuggestions(false);\r\n  }, [props.reset]);\r\n\r\n  const onKeyDown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      setShowSuggestions(false);\r\n      setValue('');\r\n    }\r\n  }\r\n\r\n  const handleKeypress = (e) => {\r\n    //it triggers by pressing the enter key\r\n    if (e.charCode === 13) {\r\n      e.preventDefault();\r\n      // TagManager.dataLayer({\r\n      //   dataLayer: {\r\n      //     userId: '001',\r\n      //     userProject: 'chatBot',\r\n      //     page: 'footer'\r\n      //    }\r\n      // });\r\n      // console.log('datalayer');\r\n      // console.log(TagManager.dataLayer);\r\n      setShowSuggestions(false);\r\n      props.sendInputValue(e.target.value);\r\n    }\r\n    else {\r\n      setShowSuggestions(true);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    setValue('');\r\n    props.sendSuggestion(suggestion);\r\n    setShowSuggestions(false);\r\n  }; \r\n\r\n  return (\r\n    <>\r\n    <textarea\r\n      value={value}\r\n      className={classes.InputText}\r\n      type=\"text\"\r\n      placeholder={t(\"chatfooter.input.placeholder\")}\r\n      title={t(\"chatfooter.input.title\")}\r\n      aria-label={t(\"chatfooter.input.title\")}\r\n      onChange={changeHandler}\r\n      onKeyPress={handleKeypress}\r\n      onKeyDown={onKeyDown}\r\n      disabled={props.setDisabled}\r\n      ref={inputRef}\r\n      rows={(value.length > 32) ? 2:1}\r\n    />\r\n    {showSuggestions && (\r\n      <ul className={classes.suggestions}>\r\n        {suggestions.map((suggestion) => (\r\n          <li              \r\n            onClick={() => handleSuggestionClick(suggestion)}              \r\n            key={suggestion}\r\n          >\r\n            {suggestion}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n            )}\r\n            </>\r\n  );\r\n};\r\n\r\nexport default InputText;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport classes from \"./ChatFooter.module.css\";\r\nimport { useTranslation } from \"react-i18next\";\r\n//import AutoComplete from \"./Autocomplete/Autocomplete\";\r\nimport Textarea from \"./Textarea/Textarea\";\r\nimport InputText from \"./InputText/InputText\";\r\n//import keyboardIcon from \"../../../assets/images/keyboard-icon.svg\";\r\n//import { ReactComponent as SendImage } from \"../../../assets/images/send-icon.svg\";\r\n\r\nimport useSpeechToText from \"react-hook-speech-to-text\";\r\n\r\nconst ChatFooter = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n\r\n  const recordButtonClasses = [classes.RecordButton];\r\n  const sendButtonClasses = [classes.SendButton];\r\n  const inputFile = [classes.inputFile];\r\n  const ClassLabel = [classes.ClassLabel];\r\n\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [isDisabled, setIsDisabled] = useState(true);\r\n  //const chatFooterKeyboardButton = [classes.ChatFooterKeyboardButton];\r\n  const [isModeKeyboard, setIsModeKeyboard] = useState(true);\r\n  const [reset, doReset] = useState(false);\r\n\r\n  /* google-speech */\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [commentText, setCommentText] = useState(\"\");\r\n\r\n  // const handleSubmit = (evt) => {\r\n  //   evt.preventDefault();\r\n  //   console.log(commentText);\r\n  // };\r\n\r\n  const {\r\n    error,\r\n    interimResult,\r\n    isRecording,\r\n    // eslint-disable-next-line no-unused-vars\r\n    results,\r\n    startSpeechToText,\r\n    stopSpeechToText,\r\n  } = useSpeechToText({\r\n    continuous: true,\r\n    useLegacyResults: false,\r\n  });\r\n\r\n  //voice animation\r\n  let rows = [];\r\n  for (let i = 0; i < 20; i++) {\r\n    rows.push(<div key={i} className={classes.items}></div>);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!isModeKeyboard) {\r\n      if (interimResult === undefined) {\r\n        if (commentText.length > 0) {\r\n          props.sendVoice(commentText);\r\n          clickHandlerKeyboard();\r\n        }\r\n      } else {\r\n        setCommentText(interimResult);\r\n      }\r\n    }\r\n\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [interimResult]);\r\n\r\n  const clickHandlerVoice = () => {\r\n    setIsModeKeyboard(false);\r\n    isRecording ? stopSpeechToText() : startSpeechToText();\r\n  };\r\n\r\n  const clickHandlerKeyboard = () => {\r\n    setIsModeKeyboard(true);\r\n    stopSpeechToText();\r\n  };\r\n\r\n  const clickHandlerSend = () => {\r\n    props.send();\r\n    doReset(!reset);\r\n    setIsDisabled(true);\r\n  };\r\n\r\n  const getData = (data) => {\r\n    setIsDisabled(data.length <= 0 ? true : false);\r\n  };\r\n\r\n  const handleFileRead = async (event) => {\r\n    \r\n    const file = event.target.files[0];\r\n    const base64 = await convertBase64(file);\r\n    const myArray = base64.split(\",\");\r\n    let base64Data = myArray[1];\r\n\r\n    const dataSend = {\r\n      name: \"prueba.pdf\",\r\n      originalBase64: base64Data,\r\n      type: \"application/pdf\"\r\n    };\r\n    props.directSocketConnection\r\n      .sendAttachment(dataSend)\r\n      .then((response) => {\r\n        console.log(\"responseAttachment\", response);\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n  };\r\n\r\n  const convertBase64 = (file) => {\r\n    return new Promise((resolve, reject) => {\r\n      const fileReader = new FileReader();\r\n      fileReader.readAsDataURL(file);\r\n      fileReader.onload = () => {\r\n        resolve(fileReader.result);\r\n      };\r\n      fileReader.onerror = (error) => {\r\n        reject(error);\r\n      };\r\n    });\r\n  };\r\n\r\n  //if (error) return <p>Web Speech API is not available in this browser </p>;\r\n  /* / google-speech */\r\n  console.log(error);\r\n\r\n  return (\r\n    <div\r\n      className={classes.ChatFooter}\r\n      role=\"region\"\r\n      aria-label={t(\"chatfooter.title\")}\r\n    >\r\n      {isModeKeyboard && (\r\n        <div className={classes.ChatFooterModeKeyboard}>\r\n          <InputText\r\n            setInputValue={props.setInputValue}\r\n            sendInputValue={props.send}\r\n            reset={reset}\r\n            getData={getData}\r\n            sendSuggestion={props.sendSuggestion}\r\n            setDisabled={props.setDisabled}\r\n          />\r\n          {/* <AutoComplete \r\n          setInputValue={props.setInputValue}\r\n        />  */}\r\n          <button\r\n            className={sendButtonClasses.join(\" \")}\r\n            onClick={clickHandlerSend}\r\n            disabled={props.setDisabled}\r\n            title=\"Enviar\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              role=\"img\"\r\n              aria-label=\"Send a message\"\r\n              className={sendButtonClasses}\r\n            >\r\n              <path\r\n                d=\"M23.794125,0.206015625 C23.5952344,0.007078125 23.2968281,-0.05409375 23.0358281,0.05034375 L0.44203125,9.08775 C0.183515625,9.19115625 0.01040625,9.43734375 0.00046875,9.71564063 C-0.009421875,9.99389063 0.145828125,10.25175 0.396328125,10.37325 L9.30576563,14.6942344 L13.6267969,23.6036719 C13.7446406,23.8466719 13.9907344,24 14.2592813,24 C14.267625,24 14.2760156,24 14.2844063,23.9995313 C14.5626094,23.9896406 14.8088906,23.8165313 14.91225,23.5580156 L23.94975,0.964359375 C24.0541875,0.703171875 23.9930156,0.40490625 23.794125,0.206015625 Z M2.44190625,9.80240625 L20.3775,2.62823437 L9.68864063,13.317 L2.44190625,9.80240625 Z M14.1976406,21.5581406 L10.683,14.3113125 L21.3719063,3.62254687 L14.1976406,21.5581406 Z\"\r\n                id=\"Shape\"\r\n              ></path>\r\n            </svg>\r\n          </button>\r\n\r\n          <button\r\n            onClick={clickHandlerVoice}\r\n            className={recordButtonClasses.join(\" \")}\r\n            title=\"Hablar un mensaje\"\r\n            disabled={props.setDisabled}\r\n          >\r\n            <svg\r\n              data-recording={isRecording}\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              width=\"24\"\r\n              height=\"24\"\r\n              viewBox=\"0 0 24 24\"\r\n              role=\"img\"\r\n              aria-label=\"Speak a message\"\r\n              className={recordButtonClasses}\r\n            >\r\n              <path d=\"M7 23v-2h4v-2.062C7.06 18.444 4 15.073 4 11h2c0 3.309 2.691 6 6 6s6-2.691 6-6h2c0 4.072-3.059 7.444-7 7.938V21h4v2h-6zm5-22c2.206 0 4 1.794 4 4v6c0 2.206-1.794 4-4 4s-4-1.794-4-4V5c0-2.206 1.794-4 4-4zm0 2c-1.103 0-2 .897-2 2v6c0 1.103.897 2 2 2s2-.897 2-2V5c0-1.103-.897-2-2-2z\"></path>\r\n            </svg>\r\n          </button>\r\n          {props.setIsAgent && <label className={ClassLabel}>\r\n            <input\r\n              id=\"originalFileName\"\r\n              type=\"file\"\r\n              required\r\n              label=\"Document\"\r\n              name=\"originalFileName\"\r\n              onChange={(e) => handleFileRead(e)}\r\n              size=\"small\"\r\n              className={inputFile}\r\n              disabled={props.setDisabled}\r\n            />\r\n            <svg\r\n              version=\"1.1\"\r\n              id=\"Layer_1\"\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              x=\"24\"\r\n              y=\"24\"\r\n              viewBox=\"0 0 512 512\"\r\n              className={recordButtonClasses}\r\n            >\r\n              <path\r\n                d=\"M467.076,68.86c-59.902-59.902-156.846-59.896-216.741,0L34.919,284.276c-46.558,46.557-46.558,122.312,0,168.87\r\n\t\t\tc46.57,46.571,122.326,46.544,168.87,0L419.205,237.73c33.36-33.36,33.36-87.64,0-121c-33.359-33.361-87.64-33.361-121,0\r\n\t\t\tL114.478,300.457c-6.975,6.975-6.975,18.285,0,25.259c6.975,6.975,18.285,6.975,25.259,0l183.727-183.727\r\n\t\t\tc19.432-19.432,51.05-19.432,70.481,0c19.431,19.432,19.431,51.05,0,70.481L178.53,427.887c-32.71,32.71-85.646,32.706-118.352,0\r\n\t\t\tc-15.806-15.806-24.511-36.821-24.511-59.175s8.706-43.369,24.511-59.176L275.594,94.119c45.94-45.94,120.287-45.934,166.222,0\r\n\t\t\tc45.827,45.828,45.827,120.395,0,166.222l-95.741,95.741c-6.975,6.975-6.975,18.284,0,25.259s18.285,6.975,25.259,0l95.741-95.741\r\n\t\t\tC526.978,225.7,526.971,128.754,467.076,68.86z\"\r\n              />\r\n            </svg>\r\n          </label>}\r\n        </div>\r\n      )}\r\n\r\n      {!isModeKeyboard && (\r\n        <div className={classes.ChatFooterModeVoice}>\r\n          <div className={classes.ChatFooterVisualizerWrapper}>\r\n            <div className={classes.wave}>{rows}</div>\r\n            {/* <button className={chatFooterKeyboardButton} onClick={clickHandlerKeyboard} >\r\n              <img src={keyboardIcon} alt=\"\" />\r\n            </button> */}\r\n          </div>\r\n          <div className={classes.ChatFooterRecognitionWrapper}>\r\n            <Textarea\r\n              setInputValue={props.setInputValue}\r\n              sendInputValue={props.send}\r\n              setKeyBoardMode={clickHandlerKeyboard}\r\n              setVal={interimResult}\r\n            />\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default ChatFooter;\r\n","//Actions state messages\r\n\r\nexport const setMessages = (currentMsgs) => ({\r\n  type: \"MESSAGES_CURRENT\",\r\n  current: currentMsgs,\r\n});\r\n","export const getNow = () => {\r\n\r\n  let d = new Date();\r\n  let now = d.toLocaleString(\"es-ES\", {\r\n    hour: \"2-digit\",\r\n    minute: \"2-digit\",\r\n    hour12: false,\r\n  });\r\n  return now;\r\n};\r\n\r\nexport const processContext = (msg) => {\r\n  const data = JSON.parse(msg);\r\n  let textContext='';\r\n  data.forEach((item) => {\r\n    if (item.type==='text'){\r\n      textContext = textContext + '<br>' + (item.fromUser ? 'Ciudadano:':'Ayuntamiento (bot):') + item.payload.text;\r\n    }\r\n  })\r\n  return textContext;\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport classes from \"./ChatContainer.module.css\";\r\nimport { TextMsg } from \"../chatElements/chatClasses\";\r\nimport ChatHeader from \"./ChatHeader/ChatHeader\";\r\nimport ChatBody from \"./ChatBody/ChatBody\";\r\nimport ChatFooter from \"./ChatFooter/ChatFooter\";\r\nimport { setMessages } from \"../../store/MessagesReducer/actionContainer\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { w3cwebsocket as W3CWebSocket } from \"websocket\";\r\nimport { getNow, processContext } from \"../../helpers/functions\"\r\n\r\nconst ChatContainer = (props) => {\r\n  const { t } = useTranslation(\"global\");\r\n  //dispatch\r\n  const dispacth = useDispatch();\r\n  //messages state\r\n  const message = useSelector((state) => state.messagesContainer.messages);\r\n  const [showSpinner, setShowSpinner] = useState(false);\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  // eslint-disable-next-line no-unused-vars\r\n  const [inputValueToSend, sendInputValue] = useState(\"\");\r\n  const [isModeAgent, setIsModeAgent] = useState(false);\r\n  const [isDisabledInput, setIsDisabledInput] = useState(false);\r\n\r\n  const getGeolocation = () => {\r\n    if(navigator.geolocation)  {\r\n      navigator.geolocation.getCurrentPosition((position) => {\r\n        props.connection.longitud=position.coords.longitude;\r\n        props.connection.latitud=position.coords.latitude;\r\n        props.connection\r\n        .sendMessage('GET_LOCATION')\r\n        .then((response) => {\r\n          const newMsg = new TextMsg({ fromUser: true, text: 'Informacin enviada' });\r\n          const msgs = [...[newMsg], ...response];\r\n          addMessages(msgs);\r\n        })\r\n        .catch((err) => console.log(err));\r\n      },\r\n      () => {\r\n        console.log('Unable to retrieve your location');\r\n        const newMsg = new TextMsg({ fromUser: false, text: 'Permiso de localizacin denegado.<br>Por favor, permita el acceso para compartir su ubicacin, o escriba su ubicacin.' });\r\n        addMessages([newMsg]);\r\n      });\r\n    } else {\r\n        console.log('Geolocation is not supproted by your broswer');\r\n        const newMsg = new TextMsg({ fromUser: false, text: 'La ubicacin no est soportada por el explorador.' });\r\n        addMessages([newMsg]);\r\n    }\r\n  };\r\n\r\n  const showMessageError = (err) => {\r\n    console.log(err);\r\n    const newMsg = new TextMsg({ fromUser: false, text: t(\"chatbody.error-msg\") });\r\n    addMessages([newMsg]);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // If messages array is empty, It sends the initial message to the broker\r\n    if (!message.length) {\r\n      sessionStorage.removeItem('allMsgs');\r\n      setShowSpinner(false);\r\n      props.connection\r\n        .sendInitialMessage()\r\n        .then((response) => addMessages(response))\r\n        .catch((err) => {\r\n          showMessageError();\r\n        }\r\n          );\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //Aade los mensajes del usuario como parmetro\r\n  const addUserMessage = () => {\r\n    if (inputValue.length <= 0) {\r\n      return;\r\n    }\r\n    console.log('isModeAgent', isModeAgent);\r\n    const value = inputValue;\r\n    const newMsg = new TextMsg({ fromUser: true, text: value, agentChat: isModeAgent, now: getNow() });\r\n    setInputValue(\"\");\r\n    addMessages([newMsg]);\r\n    sendUserMessage(value, [newMsg]);\r\n  };\r\n\r\n  const pussButton = (e) => {\r\n    if (e === \"GET_LOCATION\") {\r\n      getGeolocation();\r\n      return;\r\n    }\r\n    const newMsg = new TextMsg({ fromUser: true, text: e });\r\n    addMessages([newMsg]);\r\n    sendUserMessage(e, [newMsg]);\r\n  };\r\n\r\n  const addUserMessageVoice = (msg) => {\r\n    if (msg.length <= 0) {\r\n      return;\r\n    }\r\n    const value = msg;\r\n    const newMsg = new TextMsg({ fromUser: true, text: value });\r\n    addMessages([newMsg]);\r\n    sendUserMessage(value, [newMsg]);\r\n  };\r\n\r\n  const sendUserMessage = (text, msg) => {\r\n    // Sending user message to the broker\r\n    setShowSpinner(true);\r\n    console.log(\"parametro del user\" + text);\r\n    if (text ===  t(\"agent.agentChat\")) {\r\n      sessionStorage.setItem('agent',0);\r\n      abrirConexionAgente();\r\n      return;\r\n    }\r\n    else if (text === 'CERRAR' && isModeAgent) {\r\n      setIsModeAgent(false);\r\n      sendAgentMessage(inputValue, 'endOfConversation', false);\r\n      return;\r\n    }\r\n\r\n    if (!isModeAgent) {\r\n      props.connection\r\n        .sendMessage(text)\r\n        .then((response) => {\r\n          console.log('datos de la respuesta',response);\r\n          const msgs = [...msg, ...response];\r\n          addMessages(msgs);       \r\n        })\r\n        .catch((err) => {\r\n          showMessageError();\r\n        });\r\n    }\r\n    else {\r\n      console.log('enviar mensaje agente');\r\n      setInputValue(\"\");\r\n      sendAgentMessage(text, 'message',true);\r\n    }\r\n  };\r\n\r\n  const cleanAllButtons = (msgs, length) => {\r\n    const nItems = msgs.length;\r\n    console.log('mensajes', msgs);\r\n    sessionStorage.setItem('allMsgs', JSON.stringify(msgs));\r\n    msgs.forEach((item, index) => {\r\n      if ((index < nItems - length) && item.type === 'quick_reply'){\r\n         item.payload.buttons.forEach((element) => {\r\n            element.value = '';\r\n            element.type='disabled';\r\n         });\r\n      }\r\n      if ((index < nItems - length) && item.type === 'CARRUSEL'){\r\n        item.payload.items.forEach((element) => {\r\n           element.buttonList.forEach((button) => {\r\n            button.value='';\r\n            button.type='disabled';\r\n           });\r\n\r\n        });\r\n     }\r\n    });\r\n  }\r\n\r\n  // Adding new messages to the state\r\n  const addMessages = (newMsgsArray) => {\r\n    console.log('n mensajes', newMsgsArray.length );\r\n    const currentMsgs = [...message, ...newMsgsArray];\r\n    cleanAllButtons(currentMsgs, (newMsgsArray.length - 1));\r\n    dispacth(setMessages(currentMsgs));\r\n    setShowSpinner(false);\r\n  };\r\n\r\n  const addSuggestion = (msg) => {\r\n    const newMsg = new TextMsg({ fromUser: true, text: msg });\r\n    setInputValue(\"\");\r\n    addMessages([newMsg]);\r\n    sendUserMessage(msg, [newMsg] );\r\n  }\r\n\r\n  const agentTasks = (response) => {\r\n\r\n    console.log(\"response connect\", response);\r\n    let client = new W3CWebSocket(\r\n      props.directSocketConnection.urlSocket\r\n    );\r\n    client.onopen = () => {\r\n      console.log(\"WebSocket Client Connected\");\r\n      setIsModeAgent(true);\r\n      sessionStorage.getItem('allMsgs');\r\n      const contextData = processContext(sessionStorage.getItem('allMsgs'));\r\n      sendAgentMessage(contextData,'message', false, true);\r\n    };\r\n    client.onclose = () => {\r\n      console.log('closing connection');\r\n      console.log(\"Socket hard closed\", client.readyState);\r\n    }\r\n    client.onmessage = (messageDirect) => {\r\n      console.log(\"respuesta del socket\", messageDirect);\r\n      const messages = JSON.parse(sessionStorage.getItem('allMsgs'));\r\n      if (messageDirect.data) {\r\n        const dataFromServer = JSON.parse(messageDirect.data);\r\n        console.log(\"respuesta del socket json\", dataFromServer);\r\n\r\n        if (dataFromServer.activities[0].text === 'Fin de la conversacion') {\r\n          console.log('mensaje de final de la conversacion');\r\n          setIsModeAgent(false);\r\n          const newMsg = new TextMsg({ fromUser: false, text: '<strong>La conversacin con el agente ha finalizado</strong>', agentChat: true, now: getNow() });\r\n          const allMensajes = [...messages,...[newMsg]];\r\n          sessionStorage.setItem('allMsgs', JSON.stringify(allMensajes));\r\n          dispacth(setMessages(allMensajes));\r\n          client.close();\r\n          setIsDisabledInput(true);\r\n        } else if (dataFromServer.activities[0].attachments && dataFromServer.activities[0].from.id !== \"user\") {\r\n          sessionStorage.setItem('agent', 1);\r\n          const newMsg = new TextMsg({ fromUser: false, text: 'Fichero recibido: [<a href=\"' + dataFromServer.activities[0].attachments[0].contentUrl +'\"target=\"_blank\">' + dataFromServer.activities[0].attachments[0].name + '</a>]', agentChat: true, now: getNow() });\r\n          const allMensajes = [...messages,...[newMsg]];\r\n          sessionStorage.setItem('allMsgs', JSON.stringify(allMensajes));\r\n          dispacth(setMessages(allMensajes));\r\n\r\n        } else if (dataFromServer.activities[0].from.id === \"user\") {\r\n          console.log('es el usuario', dataFromServer.activities[0]);\r\n          if (sessionStorage.getItem('agent') === '0' && (dataFromServer.activities[0].text && dataFromServer.activities[0].text.length < 20)){\r\n            const newMsg = new TextMsg({ fromUser: false, text: 'Seguimos intentando ponerle en contacto con un agente. Por favor, espere en lnea.', agentChat: true, now: getNow() });\r\n            const allMensajes = [...messages,...[newMsg]];\r\n            sessionStorage.setItem('allMsgs', JSON.stringify(allMensajes));\r\n            dispacth(setMessages(allMensajes));\r\n          }\r\n        }\r\n        else  {\r\n          //Mensaje del agente\r\n          sessionStorage.setItem('agent', 1);\r\n          const newMsg = new TextMsg({ fromUser: false, text: dataFromServer.activities[0].text, agentChat: true, now: getNow()});\r\n          const allMensajes = [...messages,...[newMsg]];\r\n          sessionStorage.setItem('allMsgs', JSON.stringify(allMensajes));\r\n          dispacth(setMessages(allMensajes));\r\n        }\r\n        setShowSpinner(false);\r\n      }\r\n    };\r\n\r\n  }\r\n\r\n  const abrirConexionAgente = () => {\r\n    props.directSocketConnection\r\n    .connect()\r\n    .then((response) => {\r\n      agentTasks(response);\r\n    })\r\n    .catch((err) => console.log(err));\r\n  } \r\n\r\n  const sendAgentMessage = (msg, type, isUser, isFirst = false) =>  {\r\n    const dataSend = {\r\n      locale: \"es-ES\",\r\n      type: type,\r\n      from: {\r\n        id: \"user\",\r\n      },\r\n      text: msg,\r\n    };\r\n    props.directSocketConnection\r\n      .sendMessageAgent(dataSend)\r\n      .then((response) => {\r\n        console.log(\"responseSendMessage\", response);\r\n        if (!isUser) {\r\n          const messages = JSON.parse(sessionStorage.getItem('allMsgs'));\r\n          const msgToAdd = isFirst ? 'Le doy la bienvenida al <strong>Chat Online de Lnea Madrid</strong>. Estamos buscando a la persona ms apropiada para que le asista .<br><br>En cuanto haya un agente disponible, se le notificar por esta va': msg;\r\n          const newMsg = new TextMsg({ fromUser: isUser, text: msgToAdd, agentChat: true, now: getNow() });\r\n          const newMessages = [...messages,...[newMsg]];\r\n          sessionStorage.setItem('allMsgs', JSON.stringify(newMessages));\r\n          dispacth(setMessages(newMessages));\r\n          setShowSpinner(false);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  }\r\n\r\n  //Se crea una constante con toda la composicion de los componentes del chat\r\n  const chatContainer = (\r\n    <div\r\n      className={classes.ChatContainer}\r\n      role=\"region\"\r\n      aria-label={t(\"chatcontainer.title\")}\r\n    >\r\n      {/*hereda los props de app.js, abre el chat si no est abierto\r\n          viene del mtodo de app.js toggleChatHandler */}\r\n\r\n      <ChatHeader close={props.closeChat} />\r\n      <ChatBody\r\n        messages={message}\r\n        showSpinner={showSpinner}\r\n        setIsAgent={isModeAgent}\r\n        sendMsg={addUserMessage}\r\n        pushButton={pussButton}\r\n      />\r\n      <ChatFooter\r\n        send={addUserMessage}\r\n        sendVoice={addUserMessageVoice}\r\n        setInputValue={setInputValue}\r\n        sendInputValue={sendInputValue}\r\n        sendSuggestion={addSuggestion}\r\n        setIsAgent={isModeAgent}\r\n        setDisabled={isDisabledInput}\r\n        directSocketConnection={props.directSocketConnection}\r\n      />\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    //react.fragment se usa para coger mliples nodos, en este caso coge chatContainer\r\n    <React.Fragment>\r\n      {/*props.show es un prop procedente del state de this.state.chatIsOpen en App.js \r\n        que indica si el chat est abierto o no*/}\r\n      {props.show ? chatContainer : \"\"}\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default withTranslation(\"global\")(ChatContainer);\r\n","import axios from \"axios\";\r\n\r\nclass IPDataConnection {\r\n\r\n  constructor() {\r\n    this.ipDataToken = process.env.REACT_APP_IPDATA_TOKEN;\r\n  }\r\n\r\n  getIpdata = async () => {\r\n\r\n    return new Promise((resolve, reject) => {\r\n      axios\r\n        .get(\r\n          `https://api.ipdata.co?api-key=${this.ipDataToken}`\r\n        )\r\n        .then(async (response) => {\r\n          console.log('valores de ipData',response.data.threat);\r\n          const thread = response.data.threat;\r\n          let isSecure = true;\r\n           if (thread.is_tor ||\r\n            thread.is_anonymous ||\r\n            thread.is_known_attacker ||\r\n            thread.is_known_abuser ||\r\n            thread.is_threat ||\r\n            thread.is_bogon) {\r\n                isSecure = false;\r\n            }\r\n            else if (thread.scores && (thread.scores.threat_score>80 || \r\n                                  thread.scores.trust_score<40) ){\r\n               isSecure = false;\r\n            }\r\n            const responseUpdate = await this.addInfoIPData(response.data);\r\n            console.log(responseUpdate);\r\n          resolve(isSecure);\r\n        })\r\n        .catch((err) => {          \r\n          console.log('err',err);\r\n          reject();\r\n        });\r\n    });\r\n  };\r\n\r\n  addInfoIPData = async (data) => {\r\n    return new Promise((resolve, reject) => {\r\n      let headers = [];\r\n      headers[\"Authorization\"] = \"Bearer \" + this.evaToken;\r\n\r\n      data = JSON.stringify({\r\n        title: 'foo',\r\n        body: 'bar',\r\n        userId: 1,\r\n      })\r\n\r\n      axios\r\n        .post(\r\n          `https://jsonplaceholder.typicode.com/posts`,\r\n          data,\r\n          { headers: headers }\r\n        )\r\n        .then((response) => {\r\n          console.log('response update', response);\r\n          resolve(response);\r\n        })\r\n        .catch((err) => {          \r\n            console.log('err',err);\r\n            return resolve(true);\r\n            //reject();\r\n        });\r\n    });\r\n  };\r\n\r\n\r\n}\r\n\r\nexport default IPDataConnection;\r\n","import axios from \"axios\";\r\n\r\nclass DirectSocketConnection {\r\n  constructor() {\r\n    this.conversationId = \"\";\r\n    this.urlSocket = \"\";\r\n    this.token = process.env.REACT_APP_AGENT_TOKEN\r\n  }\r\n\r\n  sendInitialMessage = () => {\r\n    return new Promise((resolve, reject) => {\r\n      this.connect()\r\n        .then(() => resolve())\r\n        .catch((err) => reject(err));\r\n    });\r\n  };\r\n\r\n  connect = async () => {\r\n    return new Promise((resolve, reject) => {\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${this.token}` },\r\n      };\r\n\r\n      const bodyParameters = {\r\n        key: \"value\",\r\n      };\r\n\r\n      axios\r\n        .post(\r\n          `https://directline.botframework.com/v3/directline/conversations`,\r\n          bodyParameters,\r\n          config\r\n        )\r\n        .then((response) => {\r\n          console.log(\"respuesta de la llamada a conexin\", response);\r\n          this.urlSocket = response.data.streamUrl;\r\n          this.conversationId = response.data.conversationId;\r\n          return resolve();\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error:\", err);\r\n          return resolve();\r\n        });\r\n    });\r\n  };\r\n\r\n  sendMessageAgent = async (msg) => {\r\n    return new Promise((resolve, reject) => {\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${this.token}` },\r\n      };\r\n\r\n      axios\r\n        .post(\r\n          `https://directline.botframework.com/v3/directline/conversations/${this.conversationId}/activities`,\r\n          msg,\r\n          config\r\n        )\r\n        .then((response) => {\r\n          console.log(\"respuesta send messsage\", response);\r\n          return resolve(this.response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error:\", err);\r\n          return resolve();\r\n        });\r\n    });\r\n  };\r\n\r\n  sendAttachment = async (msg) => {\r\n    return new Promise((resolve, reject) => {\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${this.token}`,\r\n                   'Content-Type': 'application/pdf',\r\n                   'Content-Disposition':'name=\"prueba\"; filename=\"prueba.pdf\"' },\r\n      };\r\n\r\n      axios\r\n        .post(\r\n          `https://directline.botframework.com/v3/directline/conversations/${this.conversationId}/upload?userId=user`,\r\n          msg,\r\n          config\r\n        )\r\n        .then((response) => {\r\n          console.log(\"respuesta send messsage\", response);\r\n          return resolve(this.response);\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"error:\", err);\r\n          return resolve();\r\n        });\r\n    });\r\n  };\r\n\r\n}\r\n\r\nexport default DirectSocketConnection;\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport WidgetButton from \"./components/WidgetButton/WidgetButton\";\r\nimport WidgetButtonSmall from \"./components/WidgetButtonSmall/WidgetButtonSmall\";\r\nimport ChatContainer from \"./components/ChatContainer/ChatContainer\";\r\nimport { setChatIsOpens } from \"../src/store/ChatReducer/actionChat\";\r\nimport React, { useState } from \"react\";\r\nimport IPDataConnection from \"./services/eva/IPDataConnection\";\r\n//import TagManager from 'react-gtm-module'\r\nimport DirectSocketConnection from \"../src/services/eva/DirectSocketConnection\";\r\nimport TagManager from 'react-gtm-module'\r\n\r\nconst tagManagerArgs = {\r\n  gtmId: process.env.REACT_APP_GTM,\r\n  dataLayer: [{\r\n    'Vendor': 'Ayuntamiento de Madrid'\r\n  }]\r\n};\r\n\r\nconsole.log('valor', process.env.REACT_APP_GTM);\r\n\r\nTagManager.initialize(tagManagerArgs);\r\n\r\nconst App = (props) => {\r\n  //dispatch\r\n  const dispacth = useDispatch();\r\n  //chatIsOpen state\r\n  const chatIsOpen = useSelector((state) => state.chatApp.chatIsOpen);\r\n  const [IsBigButtonOpened, setIsBigButtonOpened] = useState(true);\r\n  const ipDAtaConnection = new IPDataConnection();\r\n  const directSocketConnection = new DirectSocketConnection();\r\n\r\n  const toggleChatHandler = (option) => {\r\n    if (option === \"chat\") {\r\n      // check ipddata\r\n      ipDAtaConnection\r\n      .getIpdata()\r\n      .then((response) => {\r\n        console.log('valor de la respuesta', response);\r\n        if (response){\r\n          dispacth(setChatIsOpens(!chatIsOpen));\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n\r\n    } else if (option === \"bigButton\") {\r\n      setIsBigButtonOpened(true);\r\n    } else {\r\n      setIsBigButtonOpened(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <WidgetButtonSmall\r\n        show={!chatIsOpen && !IsBigButtonOpened}\r\n        click={toggleChatHandler}\r\n      />\r\n      <WidgetButton\r\n        show={!chatIsOpen && IsBigButtonOpened}\r\n        click={toggleChatHandler}\r\n      />\r\n      {chatIsOpen && (\r\n        <ChatContainer\r\n          show={chatIsOpen}\r\n          closeChat={toggleChatHandler}\r\n          connection={props.connection}\r\n          directSocketConnection={directSocketConnection}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","//Actions chatContainer\r\n\r\nexport const setChatIsOpens = (chatIsOpen) => ({\r\n  type: \"CHAT_ISOPEN\",\r\n  chat: chatIsOpen,\r\n});\r\n","const reportWebVitals = (onPerfEntry) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","//import demoInput from \"../../demoInput\";\r\n//Reducer state messages\r\n\r\n//initial value of the state\r\nconst initialMessage = {\r\n  messages:[],\r\n  // messages: demoInput,\r\n};\r\n\r\nconst reducerContainer = (state = initialMessage, action) => {\r\n  switch (action.type) {\r\n    case \"MESSAGES_CURRENT\":\r\n      return { ...state, messages: action.current };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducerContainer;\r\n","//Reducer state chatIsOpen\r\n\r\n//initial value of the state\r\nconst initialMessageChat = {\r\n  chatIsOpen: false,\r\n};\r\n\r\nconst reducerChat = (state = initialMessageChat, action) => {\r\n  switch (action.type) {\r\n    case \"CHAT_ISOPEN\":\r\n      return { ...state, chatIsOpen: action.chat };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\nexport default reducerChat;\r\n","//import Carousel from \"../../components/chatElements/Carousel/Carousel\";\r\nimport {\r\n  TextMsg,\r\n  QuickReply,\r\n  Button,\r\n  Carousel\r\n} from \"../../components/chatElements/chatClasses\";\r\n//import data from \"../../mocks/data.json\";\r\n\r\nconst processResponse = (rowData) => {\r\n  console.log('data', rowData);\r\n  const context = rowData.data.context;\r\n  const sessionCode = rowData.data.sessionCode;\r\n  let dataAnswers = rowData.data.answers;\r\n\r\n  const messages = [];\r\n\r\n  //const dataAnswers = data;\r\n  //console.log('dataAnswer', dataAnswers);\r\n\r\n  dataAnswers.forEach((answer) => {\r\n\r\n    if (answer.content.type !== 'CARRUSEL'  && answer.content.type !== 'IGNORE_ANSWER') {\r\n      const text = answer.content;\r\n      const newMsg = new TextMsg({ fromUser: false, text: text, agentChat: false, now: ''});\r\n      messages.push(newMsg);\r\n    }\r\n\r\n    console.log(\"answers\", answer)\r\n\r\n    if (answer.buttons && answer.buttons.length) {\r\n      console.log(\"buttons true\")\r\n      const buttonsArray = [];\r\n      answer.buttons.forEach((option) => {\r\n        const newBtn = new Button({\r\n          title: option.name,\r\n          value: option.value,\r\n          action: option.action,\r\n          type: option.type,\r\n        });\r\n        buttonsArray.push(newBtn);        \r\n      });\r\n      const newButtonsReply = new QuickReply({ buttons: buttonsArray });\r\n      messages.push(newButtonsReply);  \r\n    }\r\n    if (answer.quickReply && answer.quickReply.length) {\r\n      const buttonsArray = [];\r\n      answer.quickReply.forEach((option) => {\r\n        const newBtn = new Button({\r\n          title: option.name,\r\n          value: option.value,\r\n          action: option.action,\r\n          type: \"quick_reply\",\r\n        });\r\n        buttonsArray.push(newBtn);\r\n      });\r\n      const newQuickReply = new QuickReply({ buttons: buttonsArray });\r\n      messages.push(newQuickReply);\r\n    } \r\n    if (answer.content.type === 'CARRUSEL') {\r\n\r\n      const items = [];\r\n      answer.content.content.forEach((item) => {\r\n        items.push(item);\r\n        //console.log('item:',item);\r\n      });\r\n\r\n      const carrusel = new Carousel({\r\n        items\r\n      })\r\n      messages.push(carrusel);\r\n    }  \r\n  });\r\n  return { messages, context, sessionCode };\r\n};\r\n\r\nexport default processResponse;\r\n","import axios from \"axios\";\r\n\r\nimport processResponse from \"./processResponse\";\r\nimport config from \"../../config\";\r\nexport class EvaMsg {\r\n  constructor({ text, code, context }) {\r\n    this.text = text;\r\n    this.code = code;\r\n    this.context = context;\r\n  }\r\n}\r\nclass Eva4Connection {\r\n\r\n  constructor() {\r\n    this.sessionCode = \"\";\r\n\r\n    this.eva4Config = config.eva4Config;\r\n    this.userRef = Math.floor(Math.random() * 1000000000000000000 + 1);\r\n    this.evaToken = \"\";\r\n    this.longitud = \"\";\r\n    this.latitud = \"\";\r\n  }\r\n\r\n  sendInitialMessage = () => {\r\n    \r\n    return new Promise((resolve, reject) => {     \r\n      this.sendMessage(\"33wWrVrVwWRWVrvAw\", null, {\r\n         lang: \"es\",\r\n         session: \"\",\r\n      })\r\n        .then((messages, session) => resolve(messages, session))\r\n        .catch((err) => reject(err));\r\n    });    \r\n  };\r\n\r\n  getEvaToken = () => {\r\n    return new Promise((resolve, reject) => {\r\n      const msg = {\r\n        grant_type: this.eva4Config.token.grant_type,\r\n        client_id: this.eva4Config.token.client_id,\r\n        client_secret: this.eva4Config.token.client_secret,\r\n      };\r\n      const msgEnconded = new URLSearchParams(msg).toString();\r\n      axios\r\n        .post(\r\n          `https://${this.eva4Config.token.keycloak_ur}/auth/realms/${this.eva4Config.token.org_name}/protocol/openid-connect/token`,\r\n          msgEnconded\r\n        )\r\n        .then((response) => {\r\n          const token = response.data.access_token;\r\n          return resolve(token);\r\n        })\r\n        .catch((err) => reject(err));\r\n    });\r\n  };\r\n\r\n  sendMessage = async (text, code, options) => {\r\n\r\n    if (!this.evaToken) {\r\n      this.evaToken = await this.getEvaToken();\r\n    }\r\n\r\n    return new Promise((resolve, reject) => {\r\n      const context = {\r\n        // getting some context data from cookies\r\n        lng: \"es\",\r\n        latitud: this.latitud,\r\n        longitud: this.longitud,\r\n        // form: options.form,\r\n        // user_data: {token: token}\r\n      };\r\n      const msg = new EvaMsg({\r\n        text: text || \"\",\r\n        code: code || \"\",\r\n        context: context,\r\n      });\r\n      const sessionCode = options ? options.session : this.sessionCode;\r\n      const headers = this.eva4Config.conversation.headers;\r\n      headers[\"USER-REF\"] = this.userRef;\r\n      headers[\"Authorization\"] = \"Bearer \" + this.evaToken;\r\n\r\n      const bot = this.eva4Config.conversation.url.botUUID;\r\n\r\n      axios\r\n        .post(\r\n          `https://api-${this.eva4Config.conversation.url.instance}.eva.bot/eva-broker/org/${this.eva4Config.conversation.url.orgUUID}/env/${this.eva4Config.conversation.url.envUUID}/bot/${bot}/conversations/${sessionCode}`,\r\n          msg,\r\n          { headers: headers }\r\n        )\r\n        .then((response) => {\r\n          const { messages, context, sessionCode } = processResponse(response);\r\n          this.context = context;\r\n          this.sessionCode = sessionCode;\r\n          return resolve(messages, sessionCode);\r\n        })\r\n        .catch((err) => {          \r\n          if (err.response && err.response.status === 401) {\r\n            this.evaToken = \"\";\r\n            return resolve(this.sendMessage(text, code, options));\r\n          }\r\n          return resolve();\r\n        });\r\n    });\r\n  };\r\n}\r\n\r\nexport default Eva4Connection;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\n\r\n//internationalization\r\nimport { I18nextProvider } from \"react-i18next\";\r\nimport i18next from \"i18next\";\r\nimport global_es from \"./translations/es/global.json\";\r\n\r\n//Redux\r\nimport { Provider } from \"react-redux\";\r\nimport reducerContainer from \"./store/MessagesReducer/reducerContainer\";\r\nimport { createStore, combineReducers } from \"redux\";\r\nimport reducerChat from \"./store/ChatReducer/reducerChat\";\r\n\r\nimport EvaConexion from \"./services/eva/EvaConectionV4\";\r\n\r\n//store Redux\r\nconst rootReducer = combineReducers({\r\n  messagesContainer: reducerContainer,\r\n  chatApp: reducerChat,\r\n});\r\nconst store = createStore(rootReducer);\r\nconsole.log(store.getState());\r\n\r\ni18next.init({\r\n  interpolation: { escapeValue: false },\r\n  lng: \"es\",\r\n  resources: {\r\n    es: {\r\n      global: global_es,\r\n    },\r\n  },\r\n});\r\n\r\nconst connection = new EvaConexion();\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <I18nextProvider i18n={i18next}>\r\n      <Provider store={store}>\r\n        <App connection={connection} />\r\n      </Provider>\r\n    </I18nextProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Card\":\"Card_Card__1j9Yv\",\"Image\":\"Card_Image__Mzyun\",\"Info\":\"Card_Info__3RWFA\",\"Title\":\"Card_Title__1LJQl\",\"Buttons\":\"Card_Buttons__3y5hG\",\"Description\":\"Card_Description__1JTl0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatHeader\":\"ChatHeader_ChatHeader__-vC8j\",\"HeaderAndLogo\":\"ChatHeader_HeaderAndLogo__1szjx\",\"MoveAndCloseIcon\":\"ChatHeader_MoveAndCloseIcon__3ol1v\",\"Logo\":\"ChatHeader_Logo__yjg3U\",\"Title\":\"ChatHeader_Title__2l5n7\",\"HideText\":\"ChatHeader_HideText__1BL0B\",\"CloseButton\":\"ChatHeader_CloseButton__1_mUR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"carouselContainer\":\"Carousel_carouselContainer__3-iqy\",\"carouselWrapper\":\"Carousel_carouselWrapper__3qTrK\",\"carouselContentWrapper\":\"Carousel_carouselContentWrapper__26550\",\"carouselContent\":\"Carousel_carouselContent__2bfFB\",\"leftArrow\":\"Carousel_leftArrow__wcDH3\",\"rightArrow\":\"Carousel_rightArrow__1AF33\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Spinner\":\"Spinner_Spinner__36AKZ\",\"DotContainer\":\"Spinner_DotContainer__23QQb\",\"Dot\":\"Spinner_Dot__3D1uM\",\"fade\":\"Spinner_fade__1oHFa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextMessage\":\"TextMessage_TextMessage__19lOM\",\"Bot-message\":\"TextMessage_Bot-message__2w1n9\",\"User-message\":\"TextMessage_User-message__Ee-7n\",\"ImgAvatar\":\"TextMessage_ImgAvatar__1r9sf\",\"WithAvatar\":\"TextMessage_WithAvatar__1IWRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"Form_Form__3m9W-\",\"Inputs\":\"Form_Inputs__3w3DE\",\"Buttons\":\"Form_Buttons__1OXXq\",\"button\":\"Form_button__2MUJN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2ii-m\",\"ButtonClicked\":\"Button_ButtonClicked__3zJMW\",\"Button_cancel\":\"Button_Button_cancel__2BXAi\",\"Secondary\":\"Button_Secondary__1aKTt\",\"Disabled\":\"Button_Disabled__PXpwt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Checkbox\":\"Checkbox_Checkbox__3mdqk\",\"Error\":\"Checkbox_Error__3UzM6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"TextInput\":\"TextInput_TextInput__hJr-O\",\"Modified\":\"TextInput_Modified__2YMv5\",\"Error\":\"TextInput_Error__1tkZx\",\"Invalid\":\"TextInput_Invalid__3iOLe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatFooterKeyboardButton\":\"Textarea_ChatFooterKeyboardButton__MGbQz\",\"KeyboardButton\":\"Textarea_KeyboardButton__pzUV2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WidgetButtonContainer\":\"WidgetButton_WidgetButtonContainer__3Hqez\",\"WidgetButton\":\"WidgetButton_WidgetButton__Oqrqu\",\"CloseButton\":\"WidgetButton_CloseButton__2ZKql\",\"Widget\":\"WidgetButton_Widget__hm_gV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BubbleContainer\":\"Bubble_BubbleContainer__2c5Si\",\"slide-top\":\"Bubble_slide-top__3Sd2I\",\"Bubble\":\"Bubble_Bubble__1Nf8m\",\"CloseButton\":\"Bubble_CloseButton__BNBke\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"QuickReply\":\"QuickReply_QuickReply__1U3Kf\",\"VerticalButtons\":\"QuickReply_VerticalButtons__2jM7k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BubbleContainer\":\"Bubble_BubbleContainer__2Cjvc\",\"slide-top\":\"Bubble_slide-top__32NyS\",\"Bubble\":\"Bubble_Bubble__1pqTz\",\"CloseButton\":\"Bubble_CloseButton__356KX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WidgetButtonSmall\":\"WidgetButtonSmall_WidgetButtonSmall__9GCKt\",\"WidgetSmall\":\"WidgetButtonSmall_WidgetSmall__2UgRs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatBody\":\"ChatBody_ChatBody__3X1RW\",\"MessagesContainer\":\"ChatBody_MessagesContainer__2tJYI\",\"fade\":\"ChatBody_fade__1Yc86\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Download\":\"Download_Download__31L9C\",\"DownloadClicked\":\"Download_DownloadClicked__1lgoj\",\"Download_cancel\":\"Download_Download_cancel__2dlQm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Select\":\"Select_Select__1m9PV\",\"Modified\":\"Select_Modified__3PnaM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Image\":\"Image_Image__14qWL\",\"FullSizeImage\":\"Image_FullSizeImage__3KeXZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputText\":\"InputText_InputText__r63qf\",\"suggestions\":\"InputText_suggestions__1-i3g\",\"popup-suggestion\":\"InputText_popup-suggestion__zTMZf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ChatContainer\":\"ChatContainer_ChatContainer__19VfF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Backdrop_Backdrop__3YNMM\"};","module.exports = {\r\n  eva4Config: {\r\n    token:{\r\n      keycloak_ur: 'keycloak-europe-admin.eva.bot',\r\n      org_name: 'AYTO-MADRID',\r\n      grant_type: 'client_credentials',\r\n      client_id: 'ayto-madrid',\r\n      client_secret: 'BNJeqK5dX2HdkcNFSWIxI0WsQfluWkog'\r\n    },\r\n    conversation:{\r\n      url:{\r\n        instance: 'europe-instance1',\r\n        orgUUID: 'be19031a-8c28-4407-a0b0-a114f03e17b2',\r\n        // DEV TESTbotUUID: '53e10084-49aa-468d-8a46-021b6aef8105' // BOT TEST\r\n        // DEV \r\n        envUUID: process.env.REACT_APP_ENV_UUID || 'b2e31e56-0425-4692-9db2-5ee671b9ad8a',\r\n        botUUID: process.env.REACT_APP_BOT_UUID || '4a7fe88c-65ae-4a59-9293-2b81edb52afc' \r\n        // PRE        \r\n        //envUUID: process.env.ENV_UUID || '8c70d0d7-a78d-4b0a-a37f-9575c161da55',\r\n        //botUUID: process.env.BOT_UUID || '0e2a7fdc-6144-4341-ba6b-c3291f29ab62'  \r\n\r\n      },\r\n      headers:{\r\n        \"Content-Type\": 'application/json',\r\n        //DEV\r\n        \"API-KEY\": process.env.REACT_APP_API_KEY || 'd5e21644-1293-11ed-8973-4201ac1e010a' ,\r\n        //PRE\r\n        //\"API-KEY\": process.env.API_KEY || '631c8200-43ff-11ed-941a-4201ac1e0114',\r\n        //\"CHANNEL\": 'WEB', // BOT TEST\r\n        \"CHANNEL\": 'Webchat',\r\n        \"LOCALE\": 'es-ES',\r\n        \"OS\": 'Windows'\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n"],"sourceRoot":""}